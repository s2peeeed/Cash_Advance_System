;/*FB_PKG_DELIM*/

__d("MWGenAIResponsePayloadUtils",["$InternalEnum","MWGenAIRichResponsePayload"],(function(a,b,c,d,e,f,g){"use strict";c=b("$InternalEnum").Mirrored(["KEYWORD","METHOD","STR","NUMBER","COMMENT","DEFAULT"]);function a(a){a=a.custom_template_data;if((a==null?void 0:a.__typename)==="XMSGXmaGenAiRichResponseTemplateData")return d("MWGenAIRichResponsePayload").richResponseToMWGenAIResponse(a)}g.MWGenAICodePrimitiveBlockType=c;g.xmaContentToMWGenAIResponse=a}),98);
__d("MWGenAIRichResponsePayload",["MWGenAIResponsePayloadUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,d;b=(b=a==null?void 0:a.sections)!=null?b:[];var e=a==null?void 0:a.streaming_action;a=a==null?void 0:a.search_metadata;c=(c=a==null?void 0:a.attributions)!=null?c:[];d=(d=e==null?void 0:e.insertions)!=null?d:[];var f=new Map(d.map(function(a){return[a.section_id,a.template_data]}));d=c==null?null:{attributions:c.map(function(a){var b;return{image:{url:(b=a.image)==null?void 0:b.url,urlFallback:(b=a.image)==null?void 0:b.url_fallback},searchQueryUrl:a.search_query_url,subtitle:a.subtitle,title:a.title}}),sourcesUrl:a==null?void 0:a.sources_url};c=b.map(function(a){var b=a.template_data.section_id;b=b!=null?f==null?void 0:f.get(b):null;b=b!=null?b:a.template_data;switch(b.__typename){case"XMSGXmaRichTextTemplateData":return h(b);case"XMSGXmaGenAiCodeTemplateData":return i(b);case"XMSGXmaNestedHScrollTemplateData":return k(b);default:return null}}).filter(function(a){return a!=null});return{__typename:"MWGenAIResponse",responseId:e==null?void 0:e.response_id,searchMetadata:d,sections:c}}function h(a){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:{__typename:"MWGenAIMarkdownTextPrimitive",text:a.text}}}}function i(a){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:{__typename:"MWGenAICodePrimitive",codeLines:j(a.code_blocks),language:a.language}}}}function j(a){var b=[],c=[];for(a of a){var e=a.content.split("\n"),f=d("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.cast(a.type);for(var g=0;g<e.length;g++){var h=e[g];h!==""&&f!=null&&c.push({__typename:"MWGenAICodePrimitiveBlock",content:h,type:f});g<e.length-1&&(b.push(c),c=[])}}b.push(c);return b}function k(a){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseHScrollLayoutViewModel",primitives:a.items.map(function(a){return{__typename:"MWGenAIReelPrimitive",data:a.data,defaultCta:a.default_cta}})}}}g.richResponseToMWGenAIResponse=a}),98);
__d("MWGenAICodePrimitiveLine.react",["MWGenAIResponsePayloadUtils","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={comment:{color:"x16np4np",$$css:!0},"default":{color:"x1y24irf",$$css:!0},inlineBlock:{whiteSpace:"x126k92a",$$css:!0},keyword:{color:"xii46a8",$$css:!0},method:{color:"xy3wbsu",$$css:!0},number:{color:"xtlthio",$$css:!0},string:{color:"x1wqh759",$$css:!0}};function l(a){switch(a){case d("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.KEYWORD:return k.keyword;case d("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.METHOD:return k.method;case d("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.STR:return k.string;case d("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.NUMBER:return k.number;case d("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.COMMENT:return k.comment;case d("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.DEFAULT:return k["default"]}}function a(a){var b=d("react-compiler-runtime").c(4);a=a.codeLineData;var c;b[0]!==a?(c=a.map(m),b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=j.jsx("div",{children:c}),b[2]=c,b[3]=a):a=b[3];return a}function m(a,b){return j.jsx("span",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([k.inlineBlock,l(a.type)]),{children:a.content}),b)}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGenAICodePrimitive.react",["BaseTheme.react","MWGenAICodePrimitiveLine.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{"mwx-code-background-color":"#1F1F1F","mwx-code-header-background-color":"#2E2E2E","mwx-code-syntax-comment":"#B0B3B8","mwx-code-syntax-default":"#E2E5E9","mwx-code-syntax-keyword":"#5AA7FF","mwx-code-syntax-method":"#F68628","mwx-code-syntax-number":"#FF70C7","mwx-code-syntax-string":"#14B898"},light:{"mwx-code-background-color":"#FFFFFF","mwx-code-header-background-color":"#F5F5F5","mwx-code-syntax-comment":"#65686C","mwx-code-syntax-default":"#080809","mwx-code-syntax-keyword":"#0866FF","mwx-code-syntax-method":"#B15B0F","mwx-code-syntax-number":"#BE438C","mwx-code-syntax-string":"#008168"},type:"VARIABLES"};function a(a){var b=d("react-compiler-runtime").c(11);a=a.data;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x4tzy3f x8cjs6t x3sou0m x80vd3b x12u81az xgqcy7u x1lq5wgf x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x1xmf6yo xsag5q8 xf159sx xmzvs34 xz9dl7a"},b[0]=e):e=b[0];b[1]!==a.language?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("MWXText.react"),{type:"headlineEmphasized3",children:a.language})})),b[1]=a.language,b[2]=e):e=b[2];var f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1xo0k7 x8cjs6t x3sou0m x80vd3b x12u81az x30kzoy x9jhf4c x18b5jzi x1q0q8m5 x1t7ytsu x1ejq31n x178xt8z x1lun4ml xso031l xpilrb4 x1e56ztr x1y1aw1k xf159sx xwib8y2 xmzvs34"},b[3]=f):f=b[3];var g;b[4]!==a.codeLines?(g=a.codeLines.map(k),b[4]=a.codeLines,b[5]=g):g=b[5];b[6]!==g?(a=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx("code",{children:g})})),b[6]=g,b[7]=a):a=b[7];b[8]!==e||b[9]!==a?(f=i.jsxs(c("BaseTheme.react"),{config:j,children:[e,a]}),b[8]=e,b[9]=a,b[10]=f):f=b[10];return f}function k(a,b){return i.jsx(c("MWGenAICodePrimitiveLine.react"),{codeLineData:a},b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGenAIMarkdownTextPrimitive.react",["MWV2ChatTextParserUtils","MWXMessageBaseMessageListText.react","react","react-compiler-runtime","useMWTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.data;var e=c("useMWTextRenderers")(!1,!1),f;b[0]!==a.text?(f=d("MWV2ChatTextParserUtils").findRanges(a.text,!0,!0,!0),b[0]=a.text,b[1]=f):f=b[1];f=f;var g;b[2]!==a.text||b[3]!==f||b[4]!==e?(g=i.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:!1,ranges:f,renderers:e,text:a.text}),b[2]=a.text,b[3]=f,b[4]=e,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("MWGenAIReelPrimitive.react",["MWXMAV2AttachmentStandardGenericTemplate.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(4),f=a.data;a=a.handleXmaClickLogging;if(((b=f.data)==null?void 0:b.__typename)!=="XMSGXmaStandardGenericTemplateData")return null;e[0]!==f.data||e[1]!==f.defaultCta||e[2]!==a?(b=i.jsx(c("MWXMAV2AttachmentStandardGenericTemplate.react"),{defaultCta:f.defaultCta,handleXmaClickLogging:a,mediaRenderQpl:null,template:f.data}),e[0]=f.data,e[1]=f.defaultCta,e[2]=a,e[3]=b):b=e[3];return b}g["default"]=a}),98);
__d("MWGenAIResponseHScrollLayoutViewModel.react",["MWGenAIReelPrimitive.react","MWXCard.react","MWXHScroll.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.data,f=a.handleXmaClickLogging;if(b[0]!==e.primitives||b[1]!==f){b[3]!==f?(a=function(a,b){switch(a.__typename){case"MWGenAIReelPrimitive":return i.jsx(c("MWGenAIReelPrimitive.react"),{data:a,handleXmaClickLogging:f},b);default:return null}},b[3]=f,b[4]=a):a=b[4];a=e.primitives.map(a).filter(k).map(j);b[0]=e.primitives;b[1]=f;b[2]=a}else a=b[2];e=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a={type:"fixed",width:150},b[5]=a):a=b[5];b[6]!==e?(a=i.jsx(d("MWXHScroll.react").Container,{accessibilityLabel:"Meta AI Hscroll content",arrowSize:24,cardWidth:a,gap:4,peek:!0,peekPaddingEnd:8,peekPaddingStart:8,peekWidth:4,children:e}),b[6]=e,b[7]=a):a=b[7];return a}function j(a,b){return i.jsx(d("MWXHScroll.react").Child,{children:i.jsx(c("MWXCard.react"),{border:"solid",dropShadow:1,children:a})},b)}j.displayName=j.name+" [from "+f.id+"]";function k(a){return a!=null}g["default"]=a}),98);
__d("MWGenAIResponseSingleLayoutViewModel.react",["MWGenAICodePrimitive.react","MWGenAIMarkdownTextPrimitive.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.data;switch(a.primitive.__typename){case"MWGenAIMarkdownTextPrimitive":var e;b[0]!==a.primitive?(e=i.jsx(c("MWGenAIMarkdownTextPrimitive.react"),{data:a.primitive}),b[0]=a.primitive,b[1]=e):e=b[1];return e;case"MWGenAICodePrimitive":b[2]!==a.primitive?(e=i.jsx(c("MWGenAICodePrimitive.react"),{data:a.primitive}),b[2]=a.primitive,b[3]=e):e=b[3];return e;default:return null}}g["default"]=a}),98);
__d("MWXMAV2AttachmentGenAIRichResponseTemplateV2.react",["MWGenAIResponseHScrollLayoutViewModel.react","MWGenAIResponsePayloadUtils","MWGenAIResponseSingleLayoutViewModel.react","MWGenAIRichReponseFallback.react","MWGenAIRichResponseImpressionQplLogger","MWGenAIRichResponseRenderEligibilityUtils","MWLSThreadDisplayContext","MWXGenAIRichResponseSearchPluginAttachment.react","MWXGenAIRichResponseSourcesMustache.react","MWXMessageBubble.react","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(57),e=a.content,f=a.handleXmaClickLogging;a=a.mediaRenderQpl;var g=e.custom_template_data,h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),j=h==="ChatTab";b[0]!==e||b[1]!==j?(h={onImpressionStart:function(){d("MWGenAIRichResponseImpressionQplLogger").markFallbackImpression(e,j?"ChatTab":"FullScreen")}},b[0]=e,b[1]=j,b[2]=h):h=b[2];h=c("useSinglePartialViewImpression")(h);var k;b[3]!==e||b[4]!==j?(k={onImpressionStart:function(){d("MWGenAIRichResponseImpressionQplLogger").markRichResponseImpression(e,j?"ChatTab":"FullScreen")}},b[3]=e,b[4]=j,b[5]=k):k=b[5];k=c("useSinglePartialViewImpression")(k);a!=null&&(a.addPoint("render-xma-v2-template"),a.endSuccess());var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(b[6]!==e||b[7]!==g||b[8]!==h||b[9]!==f||b[10]!==k){a=Symbol["for"]("react.early_return_sentinel");bb0:{q=d("MWGenAIResponsePayloadUtils").xmaContentToMWGenAIResponse(e);if(q==null||!d("MWGenAIRichResponseRenderEligibilityUtils").shouldRenderRichResponseXMA(g)){var B;b[28]===Symbol["for"]("react.memo_cache_sentinel")?(B=i.jsx(c("MWGenAIRichReponseFallback.react"),{isOutgoing:!1}),b[28]=B):B=b[28];b[29]!==h?(B=i.jsx("div",{ref:h,children:B}),b[29]=h,b[30]=B):B=b[30];a=B;break bb0}B=(B=(B=q.searchMetadata)==null?void 0:B.attributions)!=null?B:[];B=B[0];o=B==null?void 0:B.title;n=B==null?void 0:B.subtitle;p=B==null?void 0:B.searchQueryUrl;m=B==null?void 0:(B=B.image)==null?void 0:B.url;r=o!=null&&p!=null;s=k;b[31]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x78zum5 xdt5ytf x193iq5w x1r0jzty"},b[31]=t):t=b[31];l=c("MWXMessageBubble.react");u="left";v="incoming";w=!1;x=!1;y=r?"bottom":void 0;z="default";b[32]!==f?(B=function(a,b){switch(a.viewModel.__typename){case"MWGenAIResponseSingleLayoutViewModel":return i.jsx(c("MWGenAIResponseSingleLayoutViewModel.react"),{data:a.viewModel},b);case"MWGenAIResponseHScrollLayoutViewModel":return i.jsx(c("MWGenAIResponseHScrollLayoutViewModel.react"),{data:a.viewModel,handleXmaClickLogging:f},b);default:return null}},b[32]=f,b[33]=B):B=b[33];A=q.sections.map(B)}b[6]=e;b[7]=g;b[8]=h;b[9]=f;b[10]=k;b[11]=l;b[12]=m;b[13]=n;b[14]=o;b[15]=p;b[16]=q;b[17]=r;b[18]=s;b[19]=t;b[20]=a;b[21]=u;b[22]=v;b[23]=w;b[24]=x;b[25]=y;b[26]=z;b[27]=A}else l=b[11],m=b[12],n=b[13],o=b[14],p=b[15],q=b[16],r=b[17],s=b[18],t=b[19],a=b[20],u=b[21],v=b[22],w=b[23],x=b[24],y=b[25],z=b[26],A=b[27];if(a!==Symbol["for"]("react.early_return_sentinel"))return a;b[34]!==l||b[35]!==u||b[36]!==v||b[37]!==w||b[38]!==x||b[39]!==y||b[40]!==z||b[41]!==A?(B=i.jsx(l,{align:u,color:v,connectBottom:w,connectTop:x,flattenCorners:y,variant:z,children:A}),b[34]=l,b[35]=u,b[36]=v,b[37]=w,b[38]=x,b[39]=y,b[40]=z,b[41]=A,b[42]=B):B=b[42];b[43]!==m||b[44]!==n||b[45]!==o||b[46]!==p||b[47]!==r?(g=r&&i.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,flattenCorners:"top",variant:"default",children:i.jsx(c("MWXGenAIRichResponseSearchPluginAttachment.react"),{imageUrl:m,queryUrl:p,subtitle:n,title:o})}),b[43]=m,b[44]=n,b[45]=o,b[46]=p,b[47]=r,b[48]=g):g=b[48];a=(k=(h=q.searchMetadata)==null?void 0:h.sourcesUrl)!=null?k:void 0;b[49]!==a?(q=i.jsx(c("MWXGenAIRichResponseSourcesMustache.react"),{sourcesUrl:a}),b[49]=a,b[50]=q):q=b[50];b[51]!==s||b[52]!==t||b[53]!==B||b[54]!==g||b[55]!==q?(h=i.jsxs("div",babelHelpers["extends"]({ref:s},t,{children:[B,g,q]})),b[51]=s,b[52]=t,b[53]=B,b[54]=g,b[55]=q,b[56]=h):h=b[56];return h}g["default"]=a}),98);