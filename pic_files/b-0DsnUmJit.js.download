;/*FB_PKG_DELIM*/

__d("CometMessagingChatTabErrorState.react",["MWInboxErrorState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={cardWidth:{width:"x1cvmir6",$$css:!0},errorBoundary:{height:"x5yr21d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3);a=a.error;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.cardWidth,j.errorBoundary],b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"fb_chat_tab",xstyle:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("FBIconCrossCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M458.78 1081.22a.75.75 0 1 1-1.06 1.06l-1.72-1.72-1.72 1.72a.747.747 0 0 1-1.06 0 .75.75 0 0 1 0-1.06l1.72-1.72-1.72-1.72a.75.75 0 1 1 1.06-1.06l1.72 1.72 1.72-1.72a.75.75 0 1 1 1.06 1.06l-1.72 1.72 1.72 1.72zm-2.78-7.72c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconGifFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M460.25 1079a.75.75 0 0 1 0 1.5h-.75v1.25a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-.75v1h.75zm-2.75 2.75a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 1.5 0v4.5zm-2-.623a.747.747 0 0 1-.166.471c-.47.582-1.104.902-1.785.902-1.405 0-2.627-1.345-2.627-3s1.221-3 2.627-3a2.2 2.2 0 0 1 1.415.526.75.75 0 0 1-.957 1.155.713.713 0 0 0-.458-.181c-.495 0-1.049.641-1.049 1.5s.553 1.5 1.049 1.5a.716.716 0 0 0 .451-.177v-1.19a.75.75 0 0 1 1.5 0v1.494zm6.44-3.272c-.067-.835-.145-1.332-.416-1.916a3.458 3.458 0 0 0-1.58-1.505l-.026-.008c-.475-.213-.917-.276-1.792-.345a28.09 28.09 0 0 0-4.253 0c-.769.06-1.279.116-1.883.381a3.465 3.465 0 0 0-1.542 1.537l-.012.034c-.235.499-.309.985-.376 1.825a25.389 25.389 0 0 0 0 3.287c.067.836.146 1.334.416 1.916.326.629.884 1.17 1.532 1.486a.597.597 0 0 0 .049.02l.024.007c.476.213.918.276 1.793.345a28.103 28.103 0 0 0 4.253 0c.768-.06 1.278-.116 1.883-.381a3.469 3.469 0 0 0 1.542-1.538l.012-.034c.235-.497.308-.983.376-1.824.072-.936.072-2.349 0-3.285v-.002z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconMicrophoneFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{transform:"translate(353.5 156)",children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102 926.75 102 929 103 929 103 926.75z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M100.5 929.5h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0 0 1z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102.5 925a1.5 1.5 0 0 1-1.5-1.5v-4a1.5 1.5 0 1 1 3 0v4a1.5 1.5 0 0 1-1.5 1.5"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102.5 925.5a2 2 0 0 1-2-2v-4a2 2 0 1 1 4 0v4a2 2 0 0 1-2 2zm0-1a1 1 0 0 0 1-1v-4a1 1 0 1 0-2 0v4a1 1 0 0 0 1 1z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 923v.5a3 3 0 1 1-6 0v-.5a.5.5 0 0 0-1 0v.5a4 4 0 1 0 8 0v-.5a.5.5 0 0 0-1 0z"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconMoreFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M450.75 1075.5h10.5a.75.75 0 1 0 0-1.5h-10.5a.75.75 0 1 0 0 1.5zm0 10h10.5a.75.75 0 1 0 0-1.5h-10.5a.75.75 0 1 0 0 1.5zm0-5h10.5a.75.75 0 1 0 0-1.5h-10.5a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPlusCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M459 1080.25h-2.25v2.25c0 .412-.337.75-.75.75a.752.752 0 0 1-.75-.75v-2.25H453a.752.752 0 0 1-.75-.75c0-.412.337-.75.75-.75h2.25v-2.25c0-.412.337-.75.75-.75s.75.338.75.75v2.25H459c.413 0 .75.338.75.75s-.337.75-.75.75m-3-6.75c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPollsFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M452 1077.096v7.808a.596.596 0 0 1-.596.596h-.808a.596.596 0 0 1-.596-.596v-7.808c0-.33.267-.596.596-.596h.808c.33 0 .596.267.596.596m5-3.017v10.843a.578.578 0 0 1-.578.578h-.844a.578.578 0 0 1-.578-.578v-10.843c0-.32.259-.579.579-.579h.843c.319 0 .578.259.578.579m5 6.97v3.903a.548.548 0 0 1-.548.548h-.904a.548.548 0 0 1-.548-.548v-3.904c0-.302.245-.548.548-.548h.904c.303 0 .548.246.548.548"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconSendFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m458.371 1079.75-6.633.375a.243.243 0 0 0-.22.17l-.964 3.255c-.13.418-.024.886.305 1.175a1.08 1.08 0 0 0 1.205.158l8.836-4.413c.428-.214.669-.677.583-1.167-.06-.346-.303-.633-.617-.79l-8.802-4.396a1.073 1.073 0 0 0-1.183.14c-.345.288-.458.77-.325 1.198l.963 3.25c.03.097.118.165.22.17l6.632.375s.254 0 .254.25-.254.25-.254.25"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconStickersFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M106.617 923.049c-1.583.777-2.986 2.756-3.063 4.32a2.962 2.962 0 0 1-.554 1.6 6.977 6.977 0 0 0 3.76-2.66 6.62 6.62 0 0 0 1.224-4.31c-.335.414-.792.768-1.367 1.05",transform:"translate(354 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.685 926.713a.513.513 0 0 1-.454.287.495.495 0 0 1-.25-.07 3.42 3.42 0 0 1-1.44-1.657c-.112-.282.011-.609.275-.729.263-.12.567.012.68.294.179.45.529.848.987 1.12.25.149.34.487.202.755M99 922.5c0-.551.449-1 1-1 .551 0 1 .449 1 1a1.001 1.001 0 0 1-2 0m5.5-2c.551 0 1 .449 1 1a1.001 1.001 0 1 1-1-1m-1.908 6.813c.094-1.923 1.704-4.25 3.59-5.188 1.14-.568 1.605-1.391 1.423-2.512l-.015-.084c-.24-1.332-1.533-2.228-2.889-1.992l-6.137 1.062a2.479 2.479 0 0 0-1.622 1.025 2.413 2.413 0 0 0-.403 1.824l1.082 6.023c.214 1.19 1.269 2.029 2.455 2.029.08 0 .161-.013.242-.021 1.37-.267 2.221-1.07 2.274-2.166",transform:"translate(354 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSLocalCreateOptimisticGroupThreadStoredProcedure",["LSLocalCreateOptimisticGroupThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSLocalCreateOptimisticGroupThread"),e.participants,e.nullstateDescriptionText,e.threadName,e.checkExistingThreads,e.threadMetadata);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWChatTabInThreadBanner_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWChatTabInThreadBanner_query",selections:[{args:null,kind:"FragmentSpread",name:"MWEBChatTabBannerNux_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBChatTabBannerNux_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEBChatTabBannerNux_query",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBChatTabBannerNux.react",["CometPlaceholder.react","CometRelay","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBChatTabBannerNux_query.graphql","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEncryptedBackupsThreadListQPWrapper.react","cr:20045","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEBChatTabBannerNux.react"));function a(a){var e=d("react-compiler-runtime").c(7);a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEBChatTabBannerNux_query.graphql"),a);var f;e[0]!==a?(f={entrypoint:c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE,query:a},e[0]=a,e[1]=f):f=e[1];f=c("useEncryptedBackupsProcessStatePreLoaded")(f);switch(f){case 2:if(((f=a.viewer)==null?void 0:f.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells)!=null){a=(f=a.viewer)==null?void 0:f.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={},e[2]=f):f=e[2];e[3]!==a?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:f})}),e[3]=a,e[4]=f):f=e[4];return f}if(b("cr:20045")!=null){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(b("cr:20045"),{children:null,source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP}),e[5]=a):a=e[5];return a}e[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(k,{fallback:null,props:{children:null,source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.CHAT_TAB}}),e[6]=f):f=e[6];return f;default:return null}}g["default"]=a}),98);
__d("MAWChatTabInThreadBanner.react",["CometPlaceholder.react","CometRelay","MAWChatTabInThreadBanner_query.graphql","MWEBChatTabBannerNux.react","cr:9715","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3);a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MAWChatTabInThreadBanner_query.graphql"),a);if(b("cr:9715")&&c("gkx")("1778")){var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWInThreadBannerNuxReqCondWrapper",children:j.jsx(b("cr:9715"),{hasNoMargin:!0})}),e[0]=f):f=e[0];return f}else{e[1]!==a?(f=j.jsx(c("MWEBChatTabBannerNux.react"),{query:a}),e[1]=a,e[2]=f):f=e[2];return f}}g["default"]=a}),98);
__d("MAWCreateOptimisticSecureThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSGroupParticipantJoinState","LSIntEnum","MAWVerifyThreadExistsUtils","Promise","ReQLTable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return d("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),threadType:b},"createSecureOccamadilloOptimisticThread").then(function(b){var e=b[0];return d("ReQLTable").update(a.threads,[e],function(a){if(a==null)throw c("FBLogger")("maw_threads").mustfixThrow("Optimistic thread is missing");return babelHelpers["extends"]({},a,{clientThreadKey:e})}).then(function(){return e})})}function a(a,e,f){return k(a,f).then(function(f){return(h||(h=b("Promise"))).all(e.map(function(b){return a.participants.add({authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),contactId:b.id,deliveredWatermarkTimestampMs:(i||(i=d("I64"))).zero,groupParticipantJoinState:j.ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:i.zero,readWatermarkTimestampMs:i.zero,subscribeSource:void 0,threadKey:f})})).then(function(){return f})})}g.call=a}),98);
__d("MAWDeferredUserVisibleErrorsNuxWrapper.react",["deferredLoadComponent","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MAWDeferredUserVisibleErrorsNuxWrapper.react"));function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.hasNoMargin;var e;b[0]!==c||b[1]!==a?(e=i.jsx(j,{children:c,hasNoMargin:a}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWCMChatLoadingComposer.react",["MWXComposerBanner.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("MWXComposerBanner.react"),{loading:!0}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWChatTabHeaderRoot.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function k(a,b){var e=d("react-compiler-runtime").c(3),f;e[0]!==a||e[1]!==b?(f=function(d){a(function(a){var e=a.onReturn;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:b}),name:"MWCMSubThreadChatTabWithSubthread",children:i.jsx(j,{onReturn:function(){e()},tab:b,threadKey:d})})})},e[0]=a,e[1]=b,e[2]=f):f=e[2];return f}function l(a){var b=d("react-compiler-runtime").c(3),c=a.children,e=a.pushPage;a=a.tab;e=k(e,a);b[0]!==c||b[1]!==e?(a=i.jsx(d("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:e,children:c}),b[0]=c,b[1]=e,b[2]=a):a=b[2];return a}function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,f=a.tab,g=a.thread,h=g.threadKey;b[0]!==f.isExpanded?(a={0:{className:"xgqcy7u x1lq5wgf x2c8kfy x1hm9lzh xhvchuf x1jx94hy x1rgmuzj xbbk1sx"},1:{className:"xgqcy7u x1lq5wgf x2c8kfy x1hm9lzh xhvchuf x1xa6b72 x85a59c xvue9z xqik5uc x1ubef0g"}}[!!f.isExpanded<<0],b[0]=f.isExpanded,b[1]=a):a=b[1];var j;b[2]!==f?(j=i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:f}),b[2]=f,b[3]=j):j=b[3];var k;b[4]!==e||b[5]!==f||b[6]!==g.threadKey||b[7]!==h?(k=function(a){return i.jsx(l,{pushPage:a,tab:f,children:i.jsxs(d("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:f,threadKey:g.threadKey,children:[i.jsx(c("MWChatTabHeaderRoot.react"),{pushPage:a,tab:f,threadKey:h}),e]})})},b[4]=e,b[5]=f,b[6]=g.threadKey,b[7]=h,b[8]=k):k=b[8];var m;b[9]!==j||b[10]!==k?(m=i.jsx(c("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:j,fitContentWidth:!0,children:k}),b[9]=j,b[10]=k,b[11]=m):m=b[11];b[12]!==a||b[13]!==m?(j=i.jsx("div",babelHelpers["extends"]({},a,{children:m})),b[12]=a,b[13]=m,b[14]=j):j=b[14];return j}g["default"]=a}),98);
__d("MWChatTabInThreadBannerInner_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerInner_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWChatTabInThreadBanner_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"12RdKQ"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWChatTabInThreadBannerInner_query",fragmentName:"MWChatTabInThreadBannerMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"12RdKQ")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWChatTabInThreadBannerInner.react",["CometErrorBoundary.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","LSMessagingThreadTypeUtil","MAWChatTabInThreadBanner.react","MWChatTabInThreadBannerInner_query.graphql","MWLSInThreadBannerComponent.react","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(10),g=a.query;a=a.thread;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatTabInThreadBannerInner_query.graphql"),g);e=g==null?void 0:(e=g.viewer)==null?void 0:(e=e.eligible_promotions)==null?void 0:(e=e.nodes[0])==null?void 0:(e=e.comet_qp_sections)==null?void 0:e.renderer_strategy;var i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={context_surface_id:8888,context_trigger:"chat_tab_open"},f[0]=i):i=f[0];i=c("useQuickPromotionFalcoEvent")(i);if(e!=null){var l;f[1]!==e?(l=j.jsx(d("CometRelay").MatchContainer,{match:e}),f[1]=e,f[2]=l):l=f[2];f[3]!==i||f[4]!==l?(e=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:i,children:l}),f[3]=i,f[4]=l,f[5]=e):e=f[5];return e}else if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)){f[6]!==g?(i=j.jsx(c("MAWChatTabInThreadBanner.react"),{query:g}),f[6]=g,f[7]=i):i=f[7];return i}else if(d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else{f[8]!==a.threadKey?(l=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner",children:j.jsx(c("CometErrorBoundary.react"),{fallback:k,children:j.jsx(c("MWLSInThreadBannerComponent.react"),{threadKey:a.threadKey})})}),f[8]=a.threadKey,f[9]=l):l=f[9];return l}}function k(){return null}g["default"]=a}),98);
__d("MWChatTabInThreadBannerQuery.graphql",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,c],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"12RdKQ"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"MWChatTabInThreadBannerInner_query",fragmentName:"MWChatTabInThreadBannerMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"12RdKQ")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:b("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatTabInThreadBanner.react",["MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerQuery.graphql","RelayHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3),f=a.mwChatTabInThreadBannerQueryRef;a=a.thread;f=d("RelayHooks").usePreloadedQuery(h!==void 0?h:h=b("MWChatTabInThreadBannerQuery.graphql"),f);var g;e[0]!==f||e[1]!==a?(g=j.jsx(c("MWChatTabInThreadBannerInner.react"),{query:f,thread:a}),e[0]=f,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29997971396516674"}),null);
__d("MWChatTabInThreadBannerLazyLoadedQuery.graphql",["MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,c],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"12RdKQ"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"MWChatTabInThreadBannerInner_query",fragmentName:"MWChatTabInThreadBannerMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"12RdKQ")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:b("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerLazyLoadedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();e.exports=a}),null);
__d("MWChatTabInThreadBannerLazyLoaded.react",["CometRelay","MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerLazyLoadedQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3);a=a.thread;var f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatTabInThreadBannerLazyLoadedQuery.graphql"),{},{fetchPolicy:"store-or-network"}),g;e[0]!==f||e[1]!==a?(g=j.jsx(c("MWChatTabInThreadBannerInner.react"),{query:f,thread:a}),e[0]=f,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("MWChatTabLSDependencies",["LSCompleteThreadCutover","LSDynamicDependencies","LSMailboxTaskCompletionApiOnTaskCompletion","LSReceiveMarkThreadReadNative","LSSyncBumpThreadDataToClient","LSUpdateCommunityThreadStaleState","LSUpdateParentFolderReadWatermark","LSUpdateThreadNullState","LSVerifyE2EEMetadataThreadExistsV2","LSVerifyThreadRowExists","LSWriteCTAIdToThreadsTable"],(function(a,b,c,d,e,f,g){"use strict";d("LSDynamicDependencies").addToCachedModules({completeThreadCutover:c("LSCompleteThreadCutover"),mailboxTaskCompletionApiOnTaskCompletion:c("LSMailboxTaskCompletionApiOnTaskCompletion"),receiveMarkThreadReadNative:c("LSReceiveMarkThreadReadNative"),syncBumpThreadDataToClient:c("LSSyncBumpThreadDataToClient"),updateCommunityThreadStaleState:c("LSUpdateCommunityThreadStaleState"),updateParentFolderReadWatermark:c("LSUpdateParentFolderReadWatermark"),updateThreadNullState:c("LSUpdateThreadNullState"),verifyE2EEMetadataThreadExistsV2:c("LSVerifyE2EEMetadataThreadExistsV2"),verifyThreadRowExists:c("LSVerifyThreadRowExists"),writeCTAIdToThreadsTable:c("LSWriteCTAIdToThreadsTable")})}),34);
__d("MWInChatTabContextProvider.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(){return j(k)}function b(a){var b=d("react-compiler-runtime").c(2);a=a.children;var c;b[0]!==a?(c=i.jsx(k.Provider,{value:!0,children:a}),b[0]=a,b[1]=c):c=b[1];return c}g.useInChatTab=a;g.InChatTabContextProvider=b}),98);
__d("MWPThreadPreview.react",["CometHeroInteractionWithDiv.react","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSLocalCreateOptimisticGroupThreadStoredProcedure","LSMessagingThreadTypeUtil","LSVec","LSVerifyContactRowExistsStoredProcedure","LSVerifyThreadRowExistsStoredProcedure","MWChatInteraction","MWPActor.react","MWPThreadThemeProvider.react","MWThreadKey.react","MWXSpinner.react","Promise","ReQL","ReQLSuspense","cr:9777","gkx","promiseDone","react","react-compiler-runtime","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect;e.useMemo;var o={preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0}};function p(a){var e=d("react-compiler-runtime").c(8),g=(k||(k=c("useReStore")))(),j;e[0]!==g||e[1]!==a?(j=function(){c("promiseDone")(g.runInTransaction(function(e){return(h||(h=b("Promise"))).all(a.map(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:a.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite",void 0,void 0,f.id+":90"))},e[0]=g,e[1]=a,e[2]=j):j=e[2];var l;e[3]!==a?(l=JSON.stringify(a.map(q)),e[3]=a,e[4]=l):l=e[4];var m;e[5]!==g||e[6]!==l?(m=[g,l],e[5]=g,e[6]=l,e[7]=m):m=e[7];n(j,m)}function q(a){return(j||(j=d("I64"))).to_string(a.id)}function r(a){var b=d("react-compiler-runtime").c(25),e=a.children,f=a.renderThreadPreview,g=a.renderThreadView,h=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("MWChatInteraction").get("open_with_tokens"),b[0]=a):a=b[0];var i=a,k;b[1]!==h.threadKey||b[2]!==h.threadType?(a=function(){i!=null&&(c("InteractionTracingMetrics").addAnnotation(i,"thread_id",(j||(j=d("I64"))).to_string(h.threadKey)),c("InteractionTracingMetrics").addAnnotation(i,"thread_type",j.to_string(h.threadType)),c("InteractionTracingMetrics").addAnnotationBoolean(i,"is_secure",d("LSMessagingThreadTypeUtil").isArmadilloSecure(h.threadType)))},k=[i,h.threadKey,h.threadType],b[1]=h.threadKey,b[2]=h.threadType,b[3]=a,b[4]=k):(a=b[3],k=b[4]);n(a,k);if(f!=null){b[5]!==e||b[6]!==f||b[7]!==h?(a=f(h,e),b[5]=e,b[6]=f,b[7]=h,b[8]=a):a=b[8];return a}k=h.threadKey;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 xdt5ytf x1iyjqo2 x6prxxf x2lwn1j"},b[9]=f):f=b[9];a=h.themeFbid;var l;b[10]!==g||b[11]!==h?(l=g(h),b[10]=g,b[11]=h,b[12]=l):l=b[12];b[13]!==l||b[14]!==h.themeFbid?(g=m.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:i,pageletName:"ChatTab",xstyle:o.preview,children:m.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:l})}),b[13]=l,b[14]=h.themeFbid,b[15]=g):g=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x2lah0s x879a55"},b[16]=a):a=b[16];b[17]!==e?(l=m.jsx("div",babelHelpers["extends"]({},a,{children:e})),b[17]=e,b[18]=l):l=b[18];b[19]!==l||b[20]!==g?(a=m.jsxs("div",babelHelpers["extends"]({},f,{children:[g,l]})),b[19]=l,b[20]=g,b[21]=a):a=b[21];b[22]!==a||b[23]!==h.threadKey?(e=m.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:k,children:a}),b[22]=a,b[23]=h.threadKey,b[24]=e):e=b[24];return e}function s(a){var b=d("react-compiler-runtime").c(22),e=a.children,g=a.recipientToken,h=a.renderThreadPreview,j=a.renderThreadView,l=a.setPreviewThread,o=(k||(k=c("useReStore")))(),q=g.threadType,s=g.id;b[0]!==g?(a=[g],b[0]=g,b[1]=a):a=b[1];p(a);b[2]!==s||b[3]!==o||b[4]!==q?(g=function(){c("promiseDone")(o.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:s,threadType:q})},"readwrite",void 0,void 0,f.id+":187"))},a=[o,s,q],b[2]=s,b[3]=o,b[4]=q,b[5]=g,b[6]=a):(g=b[5],a=b[6]);d("Int64Hooks").useEffectInt64(g,a);b[7]!==s||b[8]!==o.tables.threads?(g=function(){return d("ReQL").fromTableAscending(o.tables.threads).getKeyRange(s)},b[7]=s,b[8]=o.tables.threads,b[9]=g):g=b[9];b[10]!==s||b[11]!==o?(a=[o,s],b[10]=s,b[11]=o,b[12]=a):a=b[12];var t=d("ReQLSuspense").useFirst(g,a,f.id+":198");b[13]!==l||b[14]!==t?(g=function(){l(t)},a=[l,t],b[13]=l,b[14]=t,b[15]=g,b[16]=a):(g=b[15],a=b[16]);n(g,a);if(t!=null){b[17]!==e||b[18]!==h||b[19]!==j||b[20]!==t?(g=m.jsx(r,{renderThreadPreview:h,renderThreadView:j,thread:t,children:e}),b[17]=e,b[18]=h,b[19]=j,b[20]=t,b[21]=g):g=b[21];return g}else return null}function t(a,b,e){var g=d("react-compiler-runtime").c(21),h=(k||(k=c("useReStore")))(),i=(j||(j=d("I64"))).to_string(d("MWPActor.react").useActor()),l;g[0]!==h.tables.participants||g[1]!==b?(l=function(){return d("ReQL").fromTableAscending(h.tables.participants).filter(function(a){return b.has((j||(j=d("I64"))).to_string(a.contactId))}).map(y)},g[0]=h.tables.participants,g[1]=b,g[2]=l):l=g[2];var m;g[3]!==h||g[4]!==b?(m=[h,b],g[3]=h,g[4]=b,g[5]=m):m=g[5];var n=d("ReQLSuspense").useArray(l,m,f.id+":234");g[6]!==i||g[7]!==h.tables.participants||g[8]!==h.tables.threads||g[9]!==e||g[10]!==n||g[11]!==b||g[12]!==a.length?(l=function(){var c=new Set(n);return d("ReQL").fromTableAscending(h.tables.threads).filter(function(a){return(j||(j=d("I64"))).equal(a.threadType,e)}).filter(x).filter(function(a){a=a.clientThreadKey;if(a!=null)return c.has((j||(j=d("I64"))).to_string(a));else return!1}).filter(w).map(function(a){var b=a.clientThreadKey;b=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(h.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(b).map(v).filter(function(a){return a!==i}),f.id+":274");return{participantsWithoutActor:b,thread:a}}).filter(function(c){c=c.participantsWithoutActor;if(a.length===1&&c.length===0)return!0;else if(c.every(function(a){return b.has(a)}))return c.length===b.size;else return!1}).map(u)},g[6]=i,g[7]=h.tables.participants,g[8]=h.tables.threads,g[9]=e,g[10]=n,g[11]=b,g[12]=a.length,g[13]=l):l=g[13];g[14]!==i||g[15]!==h||g[16]!==e||g[17]!==n||g[18]!==b||g[19]!==a.length?(m=[n,h,e,a.length,i,b],g[14]=i,g[15]=h,g[16]=e,g[17]=n,g[18]=b,g[19]=a.length,g[20]=m):m=g[20];return d("ReQLSuspense").useFirst(l,m,f.id+":247")}function u(a){return a.thread}function v(a){return(j||(j=d("I64"))).to_string(a.contactId)}function w(a){a=a.clientThreadKey;return a==null?!1:!0}function x(a){return a.threadName==null}function y(a){return(j||(j=d("I64"))).to_string(a.threadKey)}function z(a,e,g,l,m,n){var o=d("react-compiler-runtime").c(9),p=m===void 0?null:m,q=n===void 0?null:n,r=(k||(k=c("useReStore")))(),s=a==null;o[0]!==l||o[1]!==r||o[2]!==s||o[3]!==p||o[4]!==q||o[5]!==e||o[6]!==g?(m=function(){s&&c("promiseDone")(r.runInTransaction(function(a){if((j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(2)))return c("LSLocalCreateOptimisticGroupThreadStoredProcedure")(c("LSFactory")(a),{checkExistingThreads:l,participants:c("LSVec").ofArray(g.map(B)),threadMetadata:p!=null?p:void 0,threadName:q!=null?q:void 0}).then(A);else if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(e))return b("cr:9777")==null?(h||(h=b("Promise"))).resolve():b("cr:9777").call(a,g,e);c("recoverableViolation")("Don't know how to create optimistic thread for thread of thread type "+(e!=null?(j||(j=d("I64"))).to_string(e):""),"messenger_web_creation");return(h||(h=b("Promise"))).resolve()},"readwrite",void 0,void 0,f.id+":330"))},n=[l,r,s,g,p,e,q],o[0]=l,o[1]=r,o[2]=s,o[3]=p,o[4]=q,o[5]=e,o[6]=g,o[7]=m,o[8]=n):(m=o[7],n=o[8]);d("Int64Hooks").useEffectInt64(m,n)}function A(){}function B(a){return a.id}function C(a){var b=d("react-compiler-runtime").c(8),c=a.checkExistingThreads,e=a.children,f=a.renderThreadPreview,g=a.renderThreadView,h=a.setPreviewThread,i=a.threadMetadata,j=a.threadName,k=a.threadType,l=a.tokenContactIdsMaybeExcludingActor,o=a.tokens;a=a.tokensMaybeExcludingActor;i=i===void 0?null:i;j=j===void 0?null:j;var q=t(a,l,k);p(a);z(q,k,o,c,i,j);b[0]!==h||b[1]!==q?(l=function(){h(q)},b[0]=h,b[1]=q,b[2]=l):l=b[2];n(l,void 0);if(q!=null){b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==q?(a=m.jsx(r,{renderThreadPreview:f,renderThreadView:g,thread:q,children:e}),b[3]=e,b[4]=f,b[5]=g,b[6]=q,b[7]=a):a=b[7];return a}else return null}function D(a,b,e,g,h,l){var m=d("react-compiler-runtime").c(28),n=(k||(k=c("useReStore")))(),o=(j||(j=d("I64"))).to_string(d("MWPActor.react").useActor()),p;m[0]!==n.tables.participants||m[1]!==b?(p=function(){return d("ReQL").fromTableAscending(n.tables.participants).filter(function(a){return b.has((j||(j=d("I64"))).to_string(a.contactId))}).map(H)},m[0]=n.tables.participants,m[1]=b,m[2]=p):p=m[2];var q;m[3]!==n||m[4]!==b?(q=[n,b],m[3]=n,m[4]=b,m[5]=q):q=m[5];var r=d("ReQLSuspense").useArray(p,q,f.id+":437"),s=c("gkx")("24167")||c("gkx")("33038");m[6]!==o||m[7]!==g||m[8]!==n.tables.participants||m[9]!==n.tables.threads||m[10]!==l||m[11]!==h||m[12]!==e||m[13]!==r||m[14]!==b||m[15]!==a.length?(p=function(){var k=new Set(r),m=function(){var b=a.length>1;if(b)if(l)return d("ReQL").fromTableAscending(n.tables.threads).filter(G);else if(c("gkx")("5703"))return d("ReQL").fromTableDescending(n.tables.threads.index("lastActivityTimestampMs"));return d("ReQL").fromTableAscending(n.tables.threads).filter(function(a){return(j||(j=d("I64"))).equal(a.threadType,e)})};m=m();return m.filter(function(a){return s&&h!=null?a.threadName===h:a.threadName==null}).filter(function(a){if(g)return!0;else return(j||(j=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))}).filter(function(a){return k.has((j||(j=d("I64"))).to_string(a.threadKey))}).map(function(a){var b=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(n.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(a.threadKey).map(F),f.id+":509");return{participantsWithActor:b,thread:a}}).filter(function(a){a=a.participantsWithActor;var c=a.filter(function(a){return a!==o});if(c.length===0&&a.length===1)return!0;else if(a.length===c.length||c.length!==b.size)return!1;else return c.every(function(a){return b.has(a)})}).map(E)},m[6]=o,m[7]=g,m[8]=n.tables.participants,m[9]=n.tables.threads,m[10]=l,m[11]=h,m[12]=e,m[13]=r,m[14]=b,m[15]=a.length,m[16]=p):p=m[16];m[17]!==e?(q=JSON.stringify(e),m[17]=e,m[18]=q):q=m[18];var t;m[19]!==o||m[20]!==g||m[21]!==n||m[22]!==q||m[23]!==h||m[24]!==r||m[25]!==b||m[26]!==a?(t=[r,n,q,g,a,b,o,h,s],m[19]=o,m[20]=g,m[21]=n,m[22]=q,m[23]=h,m[24]=r,m[25]=b,m[26]=a,m[27]=t):t=m[27];return d("ReQLSuspense").useFirst(p,t,f.id+":453")}function E(a){return a.thread}function F(a){return(j||(j=d("I64"))).to_string(a.contactId)}function G(a){return(j||(j=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(16))}function H(a){return(j||(j=d("I64"))).to_string(a.threadKey)}function I(a){var b=d("react-compiler-runtime").c(23),c=a.checkExistingThreads,e=a.children,f=a.renderThreadPreview,g=a.renderThreadView,h=a.secureThreadToggleEnabled,i=a.setPreviewThread,j=a.threadMetadata,k=a.threadName,l=a.threadType,o=a.tokens;a=a.tokensMaybeExcludingActor;j=j===void 0?null:j;k=k===void 0?null:k;var p;b[0]!==a?(p=new Set(a.map(J)),b[0]=a,b[1]=p):p=b[1];p=p;p=p;var q=D(a,p,l,c,k,h),s;b[2]!==i||b[3]!==q?(h=function(){q!=null&&i(q)},s=[i,q],b[2]=i,b[3]=q,b[4]=h,b[5]=s):(h=b[4],s=b[5]);n(h,s);if(q!=null){b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==q?(h=m.jsx(r,{renderThreadPreview:f,renderThreadView:g,thread:q,children:e}),b[6]=e,b[7]=f,b[8]=g,b[9]=q,b[10]=h):h=b[10];return h}else{b[11]!==c||b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==i||b[16]!==j||b[17]!==k||b[18]!==l||b[19]!==p||b[20]!==o||b[21]!==a?(s=m.jsx(C,{checkExistingThreads:c,renderThreadPreview:f,renderThreadView:g,setPreviewThread:i,threadMetadata:j,threadName:k,threadType:l,tokenContactIdsMaybeExcludingActor:p,tokens:o,tokensMaybeExcludingActor:a,children:e}),b[11]=c,b[12]=e,b[13]=f,b[14]=g,b[15]=i,b[16]=j,b[17]=k,b[18]=l,b[19]=p,b[20]=o,b[21]=a,b[22]=s):s=b[22];return s}}function J(a){return(j||(j=d("I64"))).to_string(a.id)}function a(a){var b=d("react-compiler-runtime").c(59),e=a.areWeCreatingASecureThread,f=a.checkExistingThreads,g=a.children,h=a.isCutoverInProgress,k=a.nullstate,l=a.renderThreadPreview,o=a.renderThreadView,p=a.secureThreadToggleEnabled,q=a.setPreviewThread,r=a.threadMetadata,t=a.threadName,u=a.tokens;a=f===void 0?!0:f;f=h===void 0?!1:h;h=k===void 0?null:k;k=p===void 0?!1:p;p=r===void 0?null:r;r=t===void 0?null:t;var v=d("MWPActor.react").useActor();if(b[0]!==v||b[1]!==u){b[3]!==v?(t=function(a){return!(j||(j=d("I64"))).equal(a.id,v)},b[3]=v,b[4]=t):t=b[4];t=u.filter(t);b[0]=v;b[1]=u;b[2]=t}else t=b[2];t=t;t=t;var w;b[5]!==q||b[6]!==u.length?(w=function(){u.length===0&&q()},b[5]=q,b[6]=u.length,b[7]=w):w=b[7];var x;b[8]!==q||b[9]!==u?(x=[q,u],b[8]=q,b[9]=u,b[10]=x):x=b[10];n(w,x);if(f){b[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=m.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k"},{children:m.jsx(c("MWXSpinner.react"),{color:"disabled",size:24})})),b[11]=w):w=b[11];return w}if(u.length===0)return h;x=t.length;if(x!==1){if(x===0){if(e){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=(i||(i=d("LSIntEnum"))).ofNumber(15),b[12]=f):f=b[12];b[13]!==a||b[14]!==g||b[15]!==l||b[16]!==o||b[17]!==k||b[18]!==q||b[19]!==p||b[20]!==u?(w=m.jsx(I,{checkExistingThreads:a,renderThreadPreview:l,renderThreadView:o,secureThreadToggleEnabled:k,setPreviewThread:q,threadMetadata:p,threadType:f,tokens:u,tokensMaybeExcludingActor:u,children:g}),b[13]=a,b[14]=g,b[15]=l,b[16]=o,b[17]=k,b[18]=q,b[19]=p,b[20]=u,b[21]=w):w=b[21];return w}b[22]!==g||b[23]!==l||b[24]!==o||b[25]!==q||b[26]!==u[0]?(h=m.jsx(s,{recipientToken:u[0],renderThreadPreview:l,renderThreadView:o,setPreviewThread:q,children:g}),b[22]=g,b[23]=l,b[24]=o,b[25]=q,b[26]=u[0],b[27]=h):h=b[27];return h}}else{x=t[0];if(a)if(e){b[28]===Symbol["for"]("react.memo_cache_sentinel")?(f=(i||(i=d("LSIntEnum"))).ofNumber(15),b[28]=f):f=b[28];b[29]!==a||b[30]!==g||b[31]!==l||b[32]!==o||b[33]!==k||b[34]!==q||b[35]!==p||b[36]!==u||b[37]!==t?(w=m.jsx(I,{checkExistingThreads:a,renderThreadPreview:l,renderThreadView:o,secureThreadToggleEnabled:k,setPreviewThread:q,threadMetadata:p,threadType:f,tokens:u,tokensMaybeExcludingActor:t,children:g}),b[29]=a,b[30]=g,b[31]=l,b[32]=o,b[33]=k,b[34]=q,b[35]=p,b[36]=u,b[37]=t,b[38]=w):w=b[38];return w}else{b[39]!==g||b[40]!==x||b[41]!==l||b[42]!==o||b[43]!==q?(h=m.jsx(s,{recipientToken:x,renderThreadPreview:l,renderThreadView:o,setPreviewThread:q,children:g}),b[39]=g,b[40]=x,b[41]=l,b[42]=o,b[43]=q,b[44]=h):h=b[44];return h}}b[45]!==e?(f=e?(i||(i=d("LSIntEnum"))).ofNumber(16):(i||(i=d("LSIntEnum"))).ofNumber(2),b[45]=e,b[46]=f):f=b[46];b[47]!==a||b[48]!==g||b[49]!==l||b[50]!==o||b[51]!==k||b[52]!==q||b[53]!==f||b[54]!==p||b[55]!==r||b[56]!==u||b[57]!==t?(w=m.jsx(I,{checkExistingThreads:a,renderThreadPreview:l,renderThreadView:o,secureThreadToggleEnabled:k,setPreviewThread:q,threadMetadata:p,threadName:r,threadType:f,tokens:u,tokensMaybeExcludingActor:t,children:g}),b[47]=a,b[48]=g,b[49]=l,b[50]=o,b[51]=k,b[52]=q,b[53]=f,b[54]=p,b[55]=r,b[56]=u,b[57]=t,b[58]=w):w=b[58];return w}g["default"]=a}),98);
__d("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative",["Int64Hooks","LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g;f[0]!==e?(g=e===void 0?{shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1}:e,f[0]=e,f[1]=g):g=f[1];var i=g,j=d("MWChatStateV2.react").useDispatch(),k=a==null?void 0:a.threadKey,l=a==null?void 0:a.clientThreadKey,m=a==null?void 0:a.threadType,n=a==null?void 0:a.authorityLevel;f[2]!==n||f[3]!==j||f[4]!==l||f[5]!==k||f[6]!==m||f[7]!==i.shouldClearOldHiddenTab||f[8]!==i.shouldUpdateThreadType||f[9]!==b.tabId?(e=function(){k!=null&&n!=null&&(h||(h=d("LSIntEnum"))).toNumber(n)>=c("LSAuthorityLevel").AUTHORITATIVE&&j(d("MWChatStateActions").updateThreadKeyDescriptor(b.tabId,k,l,i.shouldUpdateThreadType?m:void 0,{shouldClearOldHiddenTab:i.shouldClearOldHiddenTab}))},g=[b.tabId,k,l,j,n,m,i.shouldUpdateThreadType,i.shouldClearOldHiddenTab],f[2]=n,f[3]=j,f[4]=l,f[5]=k,f[6]=m,f[7]=i.shouldClearOldHiddenTab,f[8]=i.shouldUpdateThreadType,f[9]=b.tabId,f[10]=e,f[11]=g):(e=f[10],g=f[11]);d("Int64Hooks").useEffectInt64(e,g)}g["default"]=a}),98);
__d("MWOptimisticSecureThreadPreview.react",["CometPlaceholder.react","FDSProgressRingIndeterminate.react","I64","LSIntEnum","LSThreadAttributionStore","MWChatTabHeaderRoot.react","MWComposerGating.react","MWOpenAndSecureThreadView.react","MWPThreadPreview.react","MWPThreadThemeProvider.react","MWV2TabContainer","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect;b.useMemo;var n=b.useState;function a(a){var b=d("react-compiler-runtime").c(25),e=a.otherContactIdForOptimisticSecureThread;a=a.tab;var g=(h||(h=c("useReStore")))(),k,p;b[0]!==g||b[1]!==e?(k=function(){return e==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.tables.contacts,["blockedByViewerStatus","name","profilePictureUrl","id"]).getKeyRange(e)},p=[g,e],b[0]=g,b[1]=e,b[2]=k,b[3]=p):(k=b[2],p=b[3]);k=d("ReQLSuspense").useFirst(k,p,f.id+":55");p=n();var q=p[0];p=p[1];var r;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(r={shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1},b[4]=r):r=b[4];c("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(q,a,r);var s=q==null?void 0:q.threadKey,t;b[5]!==e||b[6]!==s?(r=function(){if(s==null||e==null)return;var a=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(i||(i=d("I64"))).to_string(e));a.value!=="unknown"&&(a.type==="LSThreadAttribution"?d("LSThreadAttributionStore").setLSMessagingThreadAttribution((i||(i=d("I64"))).to_string(s),i.to_string(a.value)):d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(s),a.value))},t=[s,e],b[5]=e,b[6]=s,b[7]=r,b[8]=t):(r=b[7],t=b[8]);m(r,t);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k"},{children:l.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})})),b[9]=r):r=b[9];t=r;if(b[10]!==q){r=q!=null&&l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.Composer",children:l.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:q.themeFbid,children:l.jsx(d("MWComposerGating.react").MWChatComposerGating,{isPreviewThread:!0,thread:q},(i||(i=d("I64"))).to_string((r=q.clientThreadKey)!=null?r:q.threadKey))})});b[10]=q;b[11]=r}else r=b[11];r=r;var u;b[12]!==k?(u=k!=null?[{blockedByViewerStatus:k.blockedByViewerStatus,contextLine:"",displayName:k.name,id:k.id,profilePicUrl:k.profilePictureUrl,threadType:(j||(j=d("LSIntEnum"))).ofNumber(15),type_:(j||(j=d("LSIntEnum"))).ofNumber(1)}]:[],b[12]=k,b[13]=u):u=b[13];k=u;u=k;k=(k=q==null?void 0:q.threadKey)!=null?k:void 0;var v;b[14]!==q||b[15]!==a?(v=q&&l.jsx(c("MWChatTabHeaderRoot.react"),{tab:a,threadKey:q.threadKey}),b[14]=q,b[15]=a,b[16]=v):v=b[16];b[17]!==u||b[18]!==r?(q=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.ThreadPreview",children:l.jsx(c("MWPThreadPreview.react"),{areWeCreatingASecureThread:!0,nullstate:t,renderThreadView:o,setPreviewThread:p,tokens:u,children:r})}),b[17]=u,b[18]=r,b[19]=q):q=b[19];b[20]!==k||b[21]!==v||b[22]!==q||b[23]!==a?(t=l.jsxs(d("MWV2TabContainer").MWV2TabContainer,{tab:a,threadKey:k,children:[v,q]}),b[20]=k,b[21]=v,b[22]=q,b[23]=a,b[24]=t):t=b[24];return t}function o(a){return l.jsx(c("MWOpenAndSecureThreadView.react"),{thread:a})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOnDemandCutoverThreadPreview.react",["Int64Hooks","MAWOnDemandCutoverTrigger","MWOptimisticSecureThreadPreview.react","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.otherContactIdForOnDemandCutoverThread;a=a.tab;var f=c("useAsyncReStore")(),g,h;b[0]!==f||b[1]!==e?(g=function(){if(e==null)return;c("promiseDone")(f,function(a){d("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(a,e,"chatTab")})},h=[f,e],b[0]=f,b[1]=e,b[2]=g,b[3]=h):(g=b[2],h=b[3]);d("Int64Hooks").useEffectInt64(g,h);b[4]!==e||b[5]!==a?(g=i.jsx(c("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:e,tab:a}),b[4]=e,b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("WAGetUserMedia",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=navigator.mediaDevices;return a==null?null:function(b){return a.getUserMedia(b)}}b=a();f.getUserMedia=b}),66);
__d("WAOpusRecorderWorkerClient",["WAWebOpusRecorderWorkerResource","WorkerBundleResource"],(function(a,b,c,d,e,f,g){var h=function(){function a(a){this.$1=d("WorkerBundleResource").createDedicatedWebWorker(c("WAWebOpusRecorderWorkerResource")),this.$1.onmessage=a!=null?a:null}var b=a.prototype;b.getWorker=function(){return this.$1};b.postMessage=function(a,b){a={type:"message",message:a};this.$1.postMessage(a,b)};b.addEventListener=function(a,b){this.$1.addEventListener(a,b)};b.removeEventListener=function(a,b){this.$1.addEventListener(a,b)};return a}();function a(){return new h()}function b(a){return new h(a)}g.WAOpusRecorderWorkerClient=h;g.getOpusEncoderWorker=a;g.getOpusDecoderWorker=b}),98);
__d("WAPttComposerOpusRecorder",["$InternalEnum","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","err"],(function(a,b,c,d,e,f,g){var h={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},i=b("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]);a=function(){function a(a){var b=this;this._duration=0;this._recordedPages=[];this._state=i.INACTIVE;this._isFirstBuffer=!1;this._requestCount=0;this._pendingFlushResolvers=new Map();this._handleEncoderMessage=function(a){a=a.data;switch(a.message){case"page":b._storePage(a.page);break;case"flushed":b._handleFlushed(a.requestId);break;default:throw c("err")("Invalid message event type: "+a.message)}};if(!k())throw c("err")("Recording is not supported in this browser");this._createStream=a.createStream;this._onDuration=a.onDuration;this._onPause=a.onPause;this._onResume=a.onResume;this._onStart=a.onStart;this._onStop=a.onStop;this._handlePage=a.onPage;this._completeRecordingPromise=new Promise(function(a){b._resolveCompleteRecordingPromise=a});this._audioContext=new AudioContext();this._encoderNode=this._audioContext.createScriptProcessor(h.bufferLength,h.numberOfChannels,h.numberOfChannels);this._encoderNode.onaudioprocess=function(a){b._encodeBuffers(a.inputBuffer)};this._monitorNode=this._audioContext.createGain()}var b=a.prototype;b.getState=function(){return this._state};b.start=async function(){switch(this._state){case i.RECORDING:return!0;case i.STOPPED:return!1;case i.PAUSED:return this.resume();case i.INACTIVE:break}this._recordedPages=[];this._isFirstBuffer=!0;this._duration=0;var a=d("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=a;a.addEventListener("message",this._handleEncoderMessage);var b=await this._startRecording();if(!b)return!1;this._onStart==null?void 0:this._onStart();this._onDuration==null?void 0:this._onDuration(this._duration);a.postMessage({command:"encode-init",config:babelHelpers.extends({},h,{originalSampleRate:this._audioContext.sampleRate})});this._encoderNode.connect(this._audioContext.destination);return!0};b.stop=function(){var a;if(this._state===i.STOPPED)return;this._state=i.STOPPED;(a=this._recordingAbortController)==null?void 0:a.abort();this._audioContext.close&&this._audioContext.close();this._monitorNode.disconnect();this._encoderNode.disconnect();(a=this._encoder)==null?void 0:a.postMessage({command:"encode-done"})};b.pause=function(){var a;if(this._state!==i.RECORDING)return;this._state=i.PAUSED;(a=this._recordingAbortController)==null?void 0:a.abort();this._onPause==null?void 0:this._onPause()};b.resume=async function(){switch(this._state){case i.RECORDING:return!0;case i.STOPPED:return!1;case i.INACTIVE:throw c("err")("Attempting to resume recording that hasn't started");case i.PAUSED:break}var a=await this._startRecording();if(!a)return!1;this._onResume==null?void 0:this._onResume();return!0};b.getDuration=function(){return this._duration};b.getMonitorNode=function(){return this._monitorNode};b._encodeBuffers=function(a){if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state!==i.RECORDING)return;var b=[];for(var d=0;d<a.numberOfChannels;d++)b[d]=a.getChannelData(d);d=c("WANullthrows")(this._encoder);d.postMessage({command:"encode",buffers:b});this._duration+=a.duration;this._onDuration==null?void 0:this._onDuration(this._duration)};b._getNextRequestId=function(){this._requestCount++;return this._requestCount};b._startRecording=async function(){this._state=i.RECORDING;this._recordingAbortController=new AbortController();var a=await l(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal);if(!a){this.stop();return!1}return!0};b._storePage=function(a){this._recordedPages.push(a);if(a[5]&4){this._handlePage==null?void 0:this._handlePage(a,!0);var b=c("WANullthrows")(this._encoder);b.removeEventListener("message",this._handleEncoderMessage);this._resolveCompleteRecordingPromise(j(this._recordedPages));this._recordedPages=[];this._onStop==null?void 0:this._onStop();return}this._handlePage==null?void 0:this._handlePage(a,!1)};b._handleFlushed=function(a){var b=c("WANullthrows")(this._pendingFlushResolvers.get(a));this._pendingFlushResolvers.delete(a);b(j(this._recordedPages))};b.getPartialRecording=function(){var a=this,b=this._getNextRequestId(),d=new Promise(function(c){a._pendingFlushResolvers.set(b,c)}),e=c("WANullthrows")(this._encoder);e.postMessage({command:"flush",requestId:b});return d};b.getCompleteRecording=function(){return this._completeRecordingPromise};return a}();function j(a){var b=a.reduce(function(a,b){return a+b.length},0);b=new Uint8Array(b);var c=0;for(a of a)b.set(a,c),c+=a.length;return new Blob([b],{type:"audio/ogg; codecs=opus"})}function k(){return Boolean(window.AudioContext&&d("WAGetUserMedia").getUserMedia)}async function l(a,b,c,d){var e=await a(d);if(d.aborted||e==null)return!1;var f=b.createMediaStreamSource(e);c.forEach(function(a){f.connect(a)});d.addEventListener("abort",function(){e.getTracks().forEach(function(a){a.stop()}),f.disconnect()},{once:!0});return!0}g.OpusRecorderState=i;g.OpusRecorder=a}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.start=function(){this.$1=Date.now()};b.stop=function(){this.$2=Date.now()};b.pause=function(){this.stop()};b.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null};b.getTime=function(){var a,b=this.$1;if(b==null)return 0;a=(a=this.$2)!=null?a:Date.now();return a-b};return a}();f["default"]=a}),66);
__d("WAPttComposerScaleWaveform",["invariant"],(function(a,b,c,d,e,f,g,h){function a(a,b){if(b===a.length)return a;if(b===0)return[];if(a.length===0)return new Array(b).fill(0);return b>a.length?i(a,b):j(a,b)}function i(a,b){b>a.length||h(0,75746,b,a.length);var c;if(a.length===1)c=0;else{var d=(b-a.length)/(a.length-1);c=1/(1+d)}d=[];b>=1&&d.push(a[0]);for(var e=1;e<b-1;e++){var f=e*c,g=Math.floor(f),i=f-g;d.push(k(a[g],a[Math.ceil(f)],i))}b>=2&&d.push(a[a.length-1]);return d}function j(a,b){b<a.length||h(0,75747,b,a.length);var c=[];b=b/a.length;var d=0,e=0,f=0;for(a of a)d+=a,f+=1,e+=b,e>=1&&(c.push(d/f),f=0,d=0,e-=1);f>0&&c.push(d/f);return c}function k(a,b,c){return a+(b-a)*c}g["default"]=a}),98);
__d("WAStartAnimationLoop",[],(function(a,b,c,d,e,f){function a(a,b){b=b!=null?b:{};b=b.delay;var c=b===void 0?0:b,d,e,f;b=function(){e=!0,window.cancelAnimationFrame(d)};var g=function b(g){(f==null||g-f>=c)&&(a(g),f=g);if(e)return;d=window.requestAnimationFrame(b)};d=window.requestAnimationFrame(g);return b}f.startAnimationLoop=a}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){var d=this;this.$2=new(c("WAPttComposerRecorderPollableTimer"))();this.$3=[];this.$4=[];this.$5=0;this.$10=function(){d.$5=Math.max(d.$5,d.$11());var a=d.$3.length/d.$1;a=Math.floor((d.getDuration()-a)*d.$1);if(a===0)return;for(var b=0;b<a;b++)d.$3.push(d.$5);d.$5=0};this.$12=0;this.$7=h(a);a.connect(this.$7);this.$1=b}var b=a.prototype;b.start=function(){this.$2.start(),this.$9()};b.stop=function(){this.$2.stop(),this.$6==null?void 0:this.$6()};b.pause=function(){this.$2.pause(),this.$6==null?void 0:this.$6()};b.resume=function(){this.$2.resume(),this.$9()};b.$9=function(){this.$6=d("WAStartAnimationLoop").startAnimationLoop(this.$10)};b.$11=function(){var a,b=c("WANullthrows")(this.$7);this.$8=(a=this.$8)!=null?a:new Uint8Array(b.frequencyBinCount);a=this.$8;b.getByteFrequencyData(a);return Math.max.apply(Math,Array.from(a))/255};b.commitSamples=function(a){a=Math.floor(a*this.$1);a=a-this.$4.length;var b=this.$3.length-this.$12;if(a===0||b===0)return;b=this.$3.slice(this.$12,this.$3.length);b=c("WAPttComposerScaleWaveform")(b,a);for(a of b)this.$4.push(a);this.$12=this.$3.length};b.getSamples=function(){return this.$3};b.getDuration=function(){var a;a=(a=this.$2.getTime())!=null?a:0;return a/1e3};b.getCorrectedSamples=function(){return this.$4};return a}();function h(a){a=a.context.createAnalyser();a.fftSize=32;a.smoothingTimeConstant=0;a.minDecibels=-60;a.maxDecibels=-10;return a}g["default"]=a}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this._handleOpusRecorderDuration=function(){b._waveformRecorder.commitSamples(b.getDuration()),b._onDuration==null?void 0:b._onDuration(b.getDuration())};this._onDuration=a.onDuration;this._opusRecorder=new(d("WAPttComposerOpusRecorder").OpusRecorder)({createStream:a.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(b,c){a.onPage==null?void 0:a.onPage(b,c)}});this._waveformRecorder=new(c("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),a.waveformSampleRate)}var b=a.prototype;b.start=async function(){var a=await this._opusRecorder.start();if(!a)return!1;this._waveformRecorder.start();return!0};b.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()};b.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()};b.resume=async function(){var a=await this._opusRecorder.resume();if(!a)return!1;this._waveformRecorder.resume();return!0};b.getDuration=function(){return this._opusRecorder.getDuration()};b.getPreciseDuration=function(){var a;return(a=this._waveformRecorder.getDuration())!=null?a:0};b.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()};b.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()};b.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()};b.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()};return a}();g.default=a}),98);
__d("MWPUseVoiceRecorderV2",["MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetSafeQPLError","WAPttComposerRecorder","WATagsLogger","clearTimeout","emptyFunction","err","gkx","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT recording play Error ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT recording stop Error ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start Error ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start successfully"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["audioElement error code: ",". message: ",""]);n=function(){return a};return a}var o=i||(i=d("react")),p=i,q=p.useCallback,r=p.useEffect,s=p.useReducer,t=p.useRef,u=d("WATagsLogger").TAGS(["MWPUseVoiceRecorderV2"]),v=8.5;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function w(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function x(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function y(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function z(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function A(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function B(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function C(a,b){switch(a.stage){case"Recording":return o.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return o.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return o.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}C.displayName=C.name+" [from "+f.id+"]";function D(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":if(a.duration!=null&&b.duration<a.duration)return a;var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var E={stage:"Unopen"};function F(a){var e=a.maxDuration,f=e===void 0?60:e;e=a.logClickStartRecording;var g=e===void 0?c("emptyFunction"):e;e=a.logBrowserDenyAccess;var i=e===void 0?c("emptyFunction"):e,o=a.createVoiceRecordQpl;e=s(D,E);var p=e[0],w=e[1],x=c("useIsMountedRef")(),y=t(),z=t(),A=t(),B=t(),C=t(),F=t(c("emptyFunction")),G=q(function(a){var b=a[0],d=a[1],e=a[2];if(!x.current)return;a="voice-clip.ogg";if(c("gkx")("14953")){var f=new Date().getTime();d=Math.round(d*1e3);a="audioclip-"+f+"-"+d+".ogg"}var g=new File([b],a,{type:"audio/ogg"});f=URL.createObjectURL(g);A.current=f;var h=new Audio(f);h.addEventListener("error",function(){var a;u.ERROR(n(),(a=h.error)==null?void 0:a.code,(a=h.error)==null?void 0:a.message)});h.addEventListener("canplay",function(){z.current=h;var a=h.duration;w({duration:a,type:"UpdateDuration"});var b={amplitudes:e,sampling_freq:v};a={duration:a,file:g,waveformData:b};B.current=a;F.current(a);(b=C.current)==null?void 0:b.endSuccess()});h.addEventListener("timeupdate",function(){var a;a=(a=z.current)==null?void 0:a.currentTime;a!=null&&w({currentTime:a,type:"UpdateTime"})});h.addEventListener("durationchange",function(){var a;a=(a=z.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&w({duration:a,type:"UpdateDuration"})})},[x]);r(function(){if(p.stage!=="Recording")return;g();var a=p.mediaStream;void (h||(h=b("Promise"))).resolve().then(function(){var d=new(c("WAPttComposerRecorder"))({createStream:function(){return(h||(h=b("Promise"))).resolve(a)},waveformSampleRate:v});y.current=d;return d.start()}).then(function(a){if(a){u.LOG(m());return}return(h||(h=b("Promise"))).reject(c("err")("PTT recording start failed"))})["catch"](function(a){var b;u.ERROR(l(),a);(b=C.current)==null?void 0:b.endFail("start-error",{string:{failReason:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})});return function(){var a;(a=y.current)==null?void 0:a.stop()}},[g,p.mediaStream,p.stage]);var H=c("usePrevious")(p);r(function(){if((H==null?void 0:H.stage)==="Recording"&&p.stage==="Recorded"){var a=y.current;if(a==null)return;a.stop();void (h||(h=b("Promise"))).all([a.getCompleteRecording(),a.getCorrectedWaveformSamples()]).then(function(b){var c=b[0];b=b[1];var d=a.getDuration();G([c,d,b])})["catch"](function(a){var b;u.ERROR(k(),a);(b=C.current)==null?void 0:b.endFail("browser-deny-access",{string:{failReason:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}})})}},[G,H==null?void 0:H.stage,p.stage]);r(function(){if(p.stage!=="Recording")return;var a=Date.now(),b,d=function d(){var e=(Date.now()-a)/1e3;if(e>=f){w({recordingTimeout:f,type:"RecordingTimeout"});return}w({duration:e,type:"UpdateDuration"});b=c("setTimeout")(d,1e3)};b=c("setTimeout")(d,1e3);return function(){b!=null&&c("clearTimeout")(b)}},[f,p.stage]);a=q(function(a){var b=o==null?void 0:o();C.current=b;b==null?void 0:b.start({startInfo:{isOpusRecorder:!0}});w({mediaStream:a,recordingTimeout:f,type:"Start"})},[f,o]);e=q(function(){var a;(a=C.current)==null?void 0:a.endCancel();w({type:"Reset"});(a=z.current)==null?void 0:a.pause();z.current=void 0;B.current=void 0;a=A.current;a!=null&&(URL.revokeObjectURL(a),A.current=void 0)},[]);var I=q(function(){var a=function(){w({maxDuration:f,type:"Toggle"})},b=z.current;if(b==null){a();return}switch(p.stage){case"Unopen":a();break;case"Recording":var c;(c=C.current)==null?void 0:c.addPoint("stop-recording");a();break;case"Recorded":(c=C.current)==null?void 0:c.addPoint("play-audio");b.play().then(a)["catch"](function(a){var b;u.ERROR(j(),a);(b=C.current)==null?void 0:b.endFail("browser-deny-access",{string:{failReason:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}});i()});break;case"Playing":(c=C.current)==null?void 0:c.addPoint("pause-playing");b.pause();a();break}},[i,p.stage]),J=q(function(){return new(h||(h=b("Promise")))(function(a){var b=B.current;if(b!=null)return a(b);F.current=a;if(p.stage==="Recording")return I()})},[p,I]);return{audioEl:z,getVoiceClip:J,reset:e,start:a,state:p,toggle:I}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=w;g.getDuration=x;g.getCurrentTime=y;g.isProgressing=z;g.isCompleted=A;g.getPlaybackLabel=B;g.getPlaybackIcon=C;g.useVoiceRecorder=F}),98);
__d("MWRelayNonAddressableSecureContact_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"MWRelayNonAddressableSecureContact_thread",selections:[{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},{alias:"isSecure",args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{alias:"banner",args:null,concreteType:"LSThreadNonAddressableParticipantBanner",kind:"LinkedField",name:"non_addressable_participant_banner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null}],storageKey:null},{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("MWRelayNonAddressableSecureContact",["fbt","LSMessagingThreadTypeUtil","LSRelayHooks","MWBlockedComposerLogging","MWRelayNonAddressableSecureContact_thread.graphql","MWXComposerBanner.react","react","react-compiler-runtime","useMAWOverrideNonAddressableParticipantWithWAI"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useState;function m(a,e){var f=d("react-compiler-runtime").c(17);e=e===void 0?"block":e;var g=l(!1),j=g[0],m=g[1];f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=i!==void 0?i:i=b("MWRelayNonAddressableSecureContact_thread.graphql"),f[0]=g):g=f[0];g=d("LSRelayHooks").useFragment(g,a);f[1]!==g?(a=g!=null?g:{},f[1]=g,f[2]=a):a=f[2];g=a;a=g.banner;var n=g.isSecure,o=g.threadKey;g=g.threadType;var p;f[3]!==g?(p=d("LSMessagingThreadTypeUtil").isGroup(g),f[3]=g,f[4]=p):p=f[4];g=p;p=g;var q;f[5]!==a||f[6]!==g||f[7]!==n||f[8]!==o?(q={bannerFromOccam:a,isGroup:g,isSecure:n,threadKey:o},f[5]=a,f[6]=g,f[7]=n,f[8]=o,f[9]=q):q=f[9];a=c("useMAWOverrideNonAddressableParticipantWithWAI")(q);g=a!=null&&n&&!j&&!(e==="block"&&p);d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(e==="block"?o:void 0,e==="block"&&g?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:d("MWBlockedComposerLogging").ComposerBlockingReason.NOT_BLOCKED);if(!g)return;f[10]!==p?(q=p?[{label:h._(/*BTDS*/"I understand."),onPress:function(){return m(!0)}}]:void 0,f[10]=p,f[11]=q):q=f[11];n=q;j=a==null?void 0:a.details;o=a==null?void 0:a.headline;f[12]!==n||f[13]!==e||f[14]!==j||f[15]!==o?(g=k.jsx(c("MWXComposerBanner.react"),{bodyText:j,buttons:n,headerText:o,variant:e}),f[12]=n,f[13]=e,f[14]=j,f[15]=o,f[16]=g):g=f[16];return g}function a(a){a=a.thread$key;return m(a,"banner")}g.useMWRelayNonAddressableSecureContactConfiguration=m;g.MWRelayNonAddressableSecureContactBanner=a}),226);
__d("MWV2ChatTabThreadLinkHashContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(null);function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.threadLinkHash;a=a!=null?a:null;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWV2ChatTabThreadLinkHashContextProvider=a;g.useGetChatTabThreadLinkHash=b}),98);
__d("MWXIconSend",["MWXSvgIcon","SVGIcon","cr:12569","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12569")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXRelayComposerSendButton.react",["fbt","Locale","MWXComposer.react","MWXIconSend","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m={reverse:{transform:"xpk2tj9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.disabled,f=a.hasStuffToSend,g=a.onSend;a=e===void 0?!1:e;e=l(!1);var i=e[0],n=e[1],o;b[0]!==f?(e=function(){f||n(!1)},o=[f,n],b[0]=f,b[1]=e,b[2]=o):(e=b[1],o=b[2]);k(e,o);b[3]!==g?(e=function(){n(!0),g()},b[3]=g,b[4]=e):e=b[4];o=e;b[5]!==a||b[6]!==i||b[7]!==o?(e=i?j.jsx(d("MWXComposer.react").Spinner,{label:h._(/*BTDS*/"Sending"),wrapperXStyle:c("Locale").isRTL()&&m.reverse}):j.jsx(d("MWXComposer.react").Button,{disabled:a,icon:c("MWXIconSend"),label:h._(/*BTDS*/"Press enter to send"),onPress:o,testid:void 0,wrapperXStyle:c("Locale").isRTL()&&m.reverse}),b[5]=a,b[6]=i,b[7]=o,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("MWXComposerButtonGroupMenu.react",["MWXComposerButtonGroupContext.react","MWXMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(7),e,f;b[0]!==a?(e=a.children,f=babelHelpers.objectWithoutPropertiesLoose(a,["children"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={isMenu:!0},b[3]=a):a=b[3];a=a;b[4]!==e||b[5]!==f?(a=i.jsx(c("MWXComposerButtonGroupContext.react").Provider,{value:a,children:i.jsx(c("MWXMenu.react"),babelHelpers["extends"]({},f,{withArrow:!0,children:e}))}),b[4]=e,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("MWXIconPlusCircle",["MWXSvgIcon","SVGIcon","cr:12533","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12533")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerButtonGroup.react",["fbt","BasePopoverTrigger.react","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","MWXComposerButtonContext.react","MWXComposerButtonGroupButton.react","MWXComposerButtonGroupContext.react","MWXComposerButtonGroupMenu.react","MWXComposerIconButton.react","MWXIconPlusCircle","react","react-compiler-runtime","useStyleXTransition"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useRef,m=2.3,n=250;function o(a,b){a=Math.max(Math.abs(a-b)+2*(m-1),1);return Math.floor(n/a)}function p(a,b,c,d){a=a?b-d-1:d-b;d=o(b,c)*(a+(a>0?m-1:0))+"ms";var e="linear",f=o(b,c);a===0?(e="ease-in",f*=m):a===Math.abs(b-c)-1&&(e="ease-out",f*=m);return{transitionDelay:d,transitionDuration:f+"ms",transitionTimingFunction:e}}var q={base:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",overflowX:"x1plvlek",overflowY:"xryxfnj",transform:"x1oh8ob4",transformOrigin:"x1g0ag68",transitionProperty:"xeo5gob",transitionTimingFunction:"xcj1dhv",width:"xnalus7",$$css:!0},enter:{marginInlineEnd:"x11lt19s",marginInlineStart:"xe9ewy2",transform:"x2xth8r",width:"x14qfxbe",$$css:!0},leave:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",transform:"x1oh8ob4",width:"xnalus7",$$css:!0}};function a(a){var b=a.children,d=a.maxCount,e=a.paddingHorizontal;a=a.testid;var f=l(d),g=j.Children.toArray(b);a=g.length>d?g.slice(0,g.length-d+1):null;b=k(function(){return{paddingHorizontal:e}},[e]);var i=j.jsx(c("BasePopoverTrigger.react"),{align:"start",popover:c("MWXComposerButtonGroupMenu.react"),popoverProps:{"aria-label":h._(/*BTDS*/"More actions menu"),children:a,testid:"mwx-composer-button-group-menu"},popoverType:"menu",position:"above",children:function(a,b,d,e,f,g,i,k){return j.jsx(c("MWXComposerIconButton.react"),{icon:c("MWXIconPlusCircle"),label:k?h._(/*BTDS*/"Close more actions"):h._(/*BTDS*/"Open more actions"),onPress:b,ref:a,testid:void 0,wrapperXStyle:q.enter},"Overflow")}});a=a!=null?[i].concat(g.slice(g.length-d+1)):g;a=c("useStyleXTransition")(a,function(a){return a===g[0]||a===i?"Overflow":(a=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).key)!=null?a:0},{base:q.base,duration:n,enter:q.enter,leave:q.leave,onEnterComplete:function(){f.current=d},onLeaveComplete:function(){f.current=d}});a=a.map(function(a,b){return j.jsx(r,{isMenu:!1,style:babelHelpers["extends"]({},a.style,{},p(a.status==="leaving",f.current,d,b)),xstyle:a.xstyle,children:a.item},a.key)});return j.jsx(c("MWXComposerButtonContext.react").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.isMenu,g=a.style;a=a.xstyle;var h;b[0]!==f||b[1]!==g||b[2]!==a?(h={isMenu:f,styleForButton:g,xstyleForButton:a},b[0]=f,b[1]=g,b[2]=a,b[3]=h):h=b[3];f=h;b[4]!==e||b[5]!==f?(g=j.jsx(c("MWXComposerButtonGroupContext.react").Provider,{value:f,children:e}),b[4]=e,b[5]=f,b[6]=g):g=b[6];return g}g.MWXComposerButtonGroup=a;g.Button=c("MWXComposerButtonGroupButton.react")}),226);
__d("useMWRelayProactiveWarningPayload_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0,throwOnFieldError:!0},name:"useMWRelayProactiveWarningPayload_thread",selections:[{alias:"proactiveWarningDismissTime",args:null,kind:"ScalarField",name:"proactive_warning_dismiss_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"LS_InThreadBanner_Connection",kind:"LinkedField",name:"in_thread_banner",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_InThreadBanner_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"LS_InThreadBanner",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:"bannerId",args:null,kind:"ScalarField",name:"banner_id",storageKey:null},{alias:"cta1Title",args:null,kind:"ScalarField",name:"cta1_title",storageKey:null},{alias:"cta2Title",args:null,kind:"ScalarField",name:"cta2_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:"titleSectionOne",args:null,kind:"ScalarField",name:"title_section_one",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"in_thread_banner(first:1)"},{alias:null,args:null,concreteType:"LS_ThreadProactiveWarningSetting",kind:"LinkedField",name:"thread_proactive_warning_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:"entryPoint",args:null,kind:"ScalarField",name:"entry_point",storageKey:null},{alias:"storyLocation",args:null,kind:"ScalarField",name:"story_location",storageKey:null},{alias:"suspectId",args:null,kind:"ScalarField",name:"suspect_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag",storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("useMWRelayProactiveWarningPayload",["I64","LSRelayHooks","MWThreadKey.react","react-compiler-runtime","useMWProactiveWarningPayloadMemo","useMWRelayProactiveWarningPayload_thread.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){var f,g=d("react-compiler-runtime").c(28),j;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h!==void 0?h:h=b("useMWRelayProactiveWarningPayload_thread.graphql"),g[0]=j):j=g[0];j=d("LSRelayHooks").useFragment(j,e);e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();var k=j.in_thread_banner,l=j.thread_proactive_warning_settings;if(g[1]!==(k==null?void 0:(f=k.edges)==null?void 0:(f=f[0])==null?void 0:f.node)){f=(f=k==null?void 0:(f=k.edges)==null?void 0:(f=f[0])==null?void 0:f.node)!=null?f:{};g[1]=k==null?void 0:(k=k.edges)==null?void 0:(k=k[0])==null?void 0:k.node;g[2]=f}else f=g[2];k=f;f=k.bannerId;var m=k.cta1Title,n=k.cta2Title,o=k.heading;k=k.titleSectionOne;var p;g[3]!==l?(p=l!=null?l:{},g[3]=l,g[4]=p):p=g[4];p=p;var q=p.context,r=p.entryPoint,s=p.storyLocation,t=p.suspectId;p=p.tag;if(g[5]!==j.proactiveWarningDismissTime){var u;u=(i||(i=d("I64"))).equal((u=j.proactiveWarningDismissTime)!=null?u:(i||(i=d("I64"))).zero,i.zero);g[5]=j.proactiveWarningDismissTime;g[6]=u}else u=g[6];j=u;g[7]!==f||g[8]!==m||g[9]!==n||g[10]!==o||g[11]!==k?(u=f!=null?{bannerId:f,cta1Title:m!=null?m:void 0,cta2Title:n!=null?n:void 0,heading:o!=null?o:void 0,titleSectionOne:k!=null?k:void 0}:void 0,g[7]=f,g[8]=m,g[9]=n,g[10]=o,g[11]=k,g[12]=u):u=g[12];f=u;g[13]!==q||g[14]!==r||g[15]!==s||g[16]!==t||g[17]!==p||g[18]!==l?(m=l!=null?{context:q!=null?q:void 0,entryPoint:r!=null?r:void 0,storyLocation:s!=null?s:void 0,suspectId:t!=null?t:void 0,tag:p!=null?p:void 0}:void 0,g[13]=q,g[14]=r,g[15]=s,g[16]=t,g[17]=p,g[18]=l,g[19]=m):m=g[19];n=m;if(g[20]!==n){s=n!=null?{context:(o=n.context)!=null?o:void 0,entryPoint:(k=n.entryPoint)!=null?k:void 0,storyLocation:(u=n.storyLocation)!=null?u:void 0,suspectId:(q=n.suspectId)!=null?q:void 0,tag:(r=n.tag)!=null?r:void 0}:void 0;g[20]=n;g[21]=s}else s=g[21];g[22]!==f||g[23]!==a||g[24]!==j||g[25]!==s||g[26]!==e?(t={banner:f,ignoreDismissTime:a,isPWDismissTimeSet:j,pwSettings:s,threadKey:e},g[22]=f,g[23]=a,g[24]=j,g[25]=s,g[26]=e,g[27]=t):t=g[27];return c("useMWProactiveWarningPayloadMemo")(t)}g["default"]=a}),98);
__d("useCometSubscribeMessengerIsOnDemandCutoverEligible",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(12),g=(h||(h=c("useReStore")))(),i,j;e[0]!==g||e[1]!==a||e[2]!==b?(i=function(){return a!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?d("ReQL").fromTableAscending(g.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(a):d("ReQL").empty()},j=[g,a,b],e[0]=g,e[1]=a,e[2]=b,e[3]=i,e[4]=j):(i=e[3],j=e[4]);i=d("ReQLSuspense").useFirst(i,j,f.id+":34");j=d("MAWThreadCutover").useIsCutoverOpenThread(a);if(b==null||!d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)||j){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!0,null],e[5]=j):j=e[5];return j}if(i==null){e[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!1,null],e[6]=j):j=e[6];return j}e[7]!==i?(j=i!=null&&d("LSContactBitOffset").has(76,i),e[7]=i,e[8]=j):j=e[8];j=j;var k;e[9]!==j||e[10]!==i.id?(k=[j,!0,i.id],e[9]=j,e[10]=i.id,e[11]=k):k=e[11];return k}g["default"]=a}),98);
__d("useMWCloseDuplicateChatTabs",["I64","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),c=d("MWChatStateContext").useChatState(k),e=d("MWChatStateV2.react").useDispatch(),f;b[0]!==e||b[1]!==a.tabId||b[2]!==a.tabType.threadKeyDescriptor||b[3]!==c?(f=function(){var b;if(((b=a.tabType.threadKeyDescriptor)==null?void 0:b.threadKey)==null)return;b=Array.from(c.values()).filter(function(b){var c,e=b.tabId;b=b.tabType;return((c=b.threadKeyDescriptor)==null?void 0:c.threadKey)==null||((c=a.tabType.threadKeyDescriptor)==null?void 0:c.threadKey)==null?!1:a.tabId>e&&(i||(i=d("I64"))).equal(b.threadKeyDescriptor.threadKey,a.tabType.threadKeyDescriptor.threadKey)});b.forEach(function(a){var b=a.closeWatermark,c=a.openWatermark;a=a.tabId;c>b&&e(d("MWChatStateActions").closeTab(Date.now(),a))})},b[0]=e,b[1]=a.tabId,b[2]=a.tabType.threadKeyDescriptor,b[3]=c,b[4]=f):f=b[4];var g;b[5]!==e||b[6]!==a||b[7]!==c?(g=[e,a,c],b[5]=e,b[6]=a,b[7]=c,b[8]=g):g=b[8];j(f,g)}function k(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatTab.react",["BaseHeadingContextWrapper.react","CometErrorBoundary.react","CometMessagingChatTabErrorState.react","CometPageletWithDiv.react","CometPlaceholder.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","LegacyHidden","MAWThreadCutover","MAWThreadUpdateMiddlewareGatingUtil","MAWUnrecoverableErrorBoundary.react","MWCMSubThreadChatTabWithSubthread.react","MWChatConnectionStatusCard.react","MWChatInteraction","MWChatStateContext","MWChatTabHeaderRoot.react","MWChatTabInThreadBanner.react","MWChatTabInThreadBannerLazyLoaded.react","MWCreatorMessagingUtils","MWInChatTabContextProvider.react","MWInboxPinnedMessagesBanner.react","MWOnDemandCutoverThreadPreview.react","MWOpenAndSecureThreadView.react","MWOptimisticSecureThreadPreview.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThemeCSSProvider.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2ChatTabThreadLinkHashContext.react","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","MWV2EnsureThatChatTabExists","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2TabContainer","MWXRelayComposer.react","MetaConfig","QPLUserFlow","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:10518","cr:1113","cr:17333","cr:19806","cr:21021","cr:21192","cr:21386","cr:9410","emptyFunction","gkx","promiseDone","qpl","react","react-compiler-runtime","useC4gEngagementImpressionLogging","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability","useCometSubscribeMessengerIsOnDemandCutoverEligible","useEmptyFunction","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useMWCloseDuplicateChatTabs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.memo;e.useCallback;var n=e.useLayoutEffect,o=e.useRef,p=(e=b("cr:1113"))!=null?e:c("useEmptyFunction"),q=(e=b("cr:10518"))!=null?e:c("useEmptyFunction");b("cr:21192");function r(a){var b=a.children;a=a.themeFbid;return d("MWPThemeCSSProvider.react").useIsThemeV2()?l.jsx(c("CometTransientDialogProvider.react"),{children:l.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:b})}):l.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:l.jsx(c("CometTransientDialogProvider.react"),{children:b})})}function s(a){var e=d("react-compiler-runtime").c(88),f=a.isMinimized,g=a.mwChatTabInThreadBannerQueryRef,h=a.otherContactIdForDefaultE2eeThread,i=a.otherContactIdForOnDemandCutover,j=a.shouldUseDefaultE2eeOneToOne,m=a.shouldUseOnDemandCutover,s=a.tab,w=a.thread;a=a.threadLinkHash;var x=w.themeFbid,y=w.threadKey,z=w.threadType,A;e[0]!==w?(A={thread:w},e[0]=w,e[1]=A):A=e[1];p(A);e[2]!==y||e[3]!==z?(A={threadKey:y,threadType:z},e[2]=y,e[3]=z,e[4]=A):A=e[4];c("useC4gEngagementImpressionLogging")(A);q(w);e[5]!==z?(A=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(z),e[5]=z,e[6]=A):A=e[6];z=A;e[7]!==w?(A=d("LSThreadBitOffset").has(167,w),e[7]=w,e[8]=A):A=e[8];A=A;var B=!d("LSThreadBitOffset").has(56,w),C;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(C={getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:c("emptyFunction")},e[9]=C):C=e[9];var D=o(C),E=d("MWChatStateContext").useChatState(v);c("useMWCloseDuplicateChatTabs")(s);var F;e[10]!==E||e[11]!==s.tabId?(C=function(){if(E!==s.tabId){var a;(a=D.current)==null?void 0:a.restoreScrollPosition()}},F=[E,s.tabId],e[10]=E,e[11]=s.tabId,e[12]=C,e[13]=F):(C=e[12],F=e[13]);n(C,F);e[14]!==z||e[15]!==w?(C=d("LSThreadBitOffset").has(106,w)&&z&&c("MetaConfig")._("105"),e[14]=z,e[15]=w,e[16]=C):C=e[16];F=C;e[17]===Symbol["for"]("react.memo_cache_sentinel")?(z=function(){var a;(a=D.current)==null?void 0:a.jumpToMostRecentMessage()},e[17]=z):z=e[17];C=z;e[18]!==w?(z=function(){d("MWCreatorMessagingUtils").isAPPlusMessageRequest(w)&&c("QPLUserFlow").endSuccess(c("qpl")._(421070823,"2981"),{annotations:{string:{action:"accept"}},instanceKey:(k||(k=d("I64"))).to_int32(w.threadKey)})},e[18]=w,e[19]=z):z=e[19];z=z;var G;e[20]!==E||e[21]!==s.tabId||e[22]!==w?(G=s.tabId!==E?null:l.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:w}),e[20]=E,e[21]=s.tabId,e[22]=w,e[23]=G):G=e[23];var H;e[24]===Symbol["for"]("react.memo_cache_sentinel")?(H=l.jsx(c("MWChatConnectionStatusCard.react"),{}),e[24]=H):H=e[24];var I;e[25]!==g||e[26]!==w?(I=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:g!=null?l.jsx(c("MWChatTabInThreadBanner.react"),{mwChatTabInThreadBannerQueryRef:g,thread:w}):l.jsx(c("MWChatTabInThreadBannerLazyLoaded.react"),{thread:w})}),e[25]=g,e[26]=w,e[27]=I):I=e[27];e[28]!==F||e[29]!==w?(g=F&&l.jsx(c("MWInboxPinnedMessagesBanner.react"),{thread:w}),e[28]=F,e[29]=w,e[30]=g):g=e[30];e[31]!==w?(F=c("gkx")("20861")?b("cr:21021")&&l.jsx(b("cr:21021"),{thread:w}):b("cr:17333")&&l.jsx(b("cr:17333"),{thread:w}),e[31]=w,e[32]=F):F=e[32];var J;e[33]!==w?(J=b("cr:19806")&&l.jsx(b("cr:19806"),{thread:w}),e[33]=w,e[34]=J):J=e[34];var K;e[35]!==f||e[36]!==w?(K=l.jsx(c("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",isMinimizedChatTab:f,messageListRef:D,thread:w}),e[35]=f,e[36]=w,e[37]=K):K=e[37];e[38]!==z||e[39]!==y?(f=l.jsx(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:C,children:l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWComposer",children:l.jsx(c("MWXRelayComposer.react"),{afterSendMessage:z,isPreviewThread:!1,threadKey:y})})}),e[38]=z,e[39]=y,e[40]=f):f=e[40];e[41]!==f||e[42]!==a?(C=l.jsx(c("MAWUnrecoverableErrorBoundary.react"),{fallback:u,children:l.jsx(c("CometErrorBoundary.react"),{fallback:t,children:l.jsx(d("MWV2ChatTabThreadLinkHashContext.react").MWV2ChatTabThreadLinkHashContextProvider,{threadLinkHash:a,children:f})})}),e[41]=f,e[42]=a,e[43]=C):C=e[43];e[44]!==B||e[45]!==K||e[46]!==C||e[47]!==w?(z=l.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:B,thread:w,children:[K,C]}),e[44]=B,e[45]=K,e[46]=C,e[47]=w,e[48]=z):z=e[48];e[49]!==G||e[50]!==I||e[51]!==g||e[52]!==F||e[53]!==J||e[54]!==z?(f=l.jsxs(l.Fragment,{children:[G,H,I,g,F,J,z]}),e[49]=G,e[50]=I,e[51]=g,e[52]=F,e[53]=J,e[54]=z,e[55]=f):f=e[55];var L=f;e[56]!==L||e[57]!==A||e[58]!==s||e[59]!==w?(a=A?b("cr:21386")!=null?l.jsx(b("cr:21386").MWPConversationSearchContext,{children:l.jsx(c("MWCMSubThreadChatTabWithSubthread.react"),{tab:s,thread:w,children:L})}):l.jsx(c("MWCMSubThreadChatTabWithSubthread.react"),{tab:s,thread:w,children:L}):null,e[56]=L,e[57]=A,e[58]=s,e[59]=w,e[60]=a):a=e[60];B=a;e[61]!==j||e[62]!==m||e[63]!==y?(K=function(a){return j||m?l.jsx(l.Fragment,{children:a}):l.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:y,children:a})},e[61]=j,e[62]=m,e[63]=y,e[64]=K):K=e[64];C=K;e[65]!==L||e[66]!==s||e[67]!==y?(H=b("cr:9410")!=null?l.jsx(d("MWV2TabContainer").MWV2TabContainer,{tab:s,threadKey:y,children:l.jsx(b("cr:9410"),{children:function(a){return l.jsxs(l.Fragment,{children:[l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:l.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:s}),name:"MWChatTabHeader",children:l.jsx(c("MWChatTabHeaderRoot.react"),{pushPage:a,tab:s,threadKey:y})}),L]})}})}):l.jsxs(d("MWV2TabContainer").MWV2TabContainer,{tab:s,threadKey:y,children:[l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:l.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:s}),name:"MWChatTabHeader",children:l.jsx(c("MWChatTabHeaderRoot.react"),{tab:s,threadKey:y})}),L]}),e[65]=L,e[66]=s,e[67]=y,e[68]=H):H=e[68];G=H;e[69]!==G||e[70]!==B||e[71]!==h||e[72]!==i||e[73]!==j||e[74]!==m||e[75]!==s?(I=B!=null?B:j&&c("MWOptimisticSecureThreadPreview.react")!=null?l.jsx(c("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:h,tab:s}):m?l.jsx(c("MWOnDemandCutoverThreadPreview.react"),{otherContactIdForOnDemandCutoverThread:i,tab:s}):G,e[69]=G,e[70]=B,e[71]=h,e[72]=i,e[73]=j,e[74]=m,e[75]=s,e[76]=I):I=e[76];g=I;e[77]!==g?(F=l.jsx(d("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:l.jsx(d("MWInChatTabContextProvider.react").InChatTabContextProvider,{children:l.jsx(c("BaseHeadingContextWrapper.react"),{children:g})})}),e[77]=g,e[78]=F):F=e[78];e[79]!==F||e[80]!==x?(J=l.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:l.jsx(d("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:l.jsx(r,{themeFbid:x,children:F})})}),e[79]=F,e[80]=x,e[81]=J):J=e[81];e[82]!==J||e[83]!==C?(z=C(J),e[82]=J,e[83]=C,e[84]=z):z=e[84];e[85]!==z||e[86]!==y?(f=l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:y,children:z}),e[85]=z,e[86]=y,e[87]=f):f=e[87];return f}function t(){return l.jsx(c("MWV2ErrorComposer.react"),{})}t.displayName=t.name+" [from "+f.id+"]";function u(a){return l.jsx(c("CometMessagingChatTabErrorState.react"),{error:a})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return a.focusedTabId}function w(a,b){var e=d("react-compiler-runtime").c(12),g=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a),i=(d("MAWThreadCutover").useIsCutoverOpenThread(a)||b!=null&&d("LSThreadBitOffset").has(128,b))&&!g;e[0]!==a?(b=(k||(k=d("I64"))).to_string(a),e[0]=a,e[1]=b):b=e[1];var j=d("MAWThreadCutover").useGetCutoverSecureThreadKey(b),l=(h||(h=c("useReStore")))(),m;e[2]!==j||e[3]!==l||e[4]!==i||e[5]!==a?(b=function(){if(!i)return;if(j==null)c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(l,function(b){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(b),{waJid:a})},"readwrite"));else{var b=d("MWChatInteraction").get((k||(k=d("I64"))).to_string(a));if(b!=null){var e;d("MWChatInteraction").set(j,b);(e=c("InteractionTracingMetrics")).addMetadata(b,"thread_id",j);e.addMetadata(b,"thread_type",15..toString());e.addMetadata(b,"is_secure",!0);e.addMetadata(b,"redirectedFromPreCutover",1)}}},m=[j,l,i,a],e[2]=j,e[3]=l,e[4]=i,e[5]=a,e[6]=b,e[7]=m):(b=e[6],m=e[7]);d("Int64Hooks").useEffectInt64(b,m);e[8]!==j||e[9]!==l?(b=function(){return j!=null?d("ReQL").fromTableAscending(l.tables.threads).getKeyRange((k||(k=d("I64"))).of_string(j)):d("ReQL").empty()},m=[l,j],e[8]=j,e[9]=l,e[10]=b,e[11]=m):(b=e[10],m=e[11]);e=d("ReQLSuspense").useFirst(b,m,f.id+":466");b=g?void 0:e;if(b!=null){m=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(k||(k=d("I64"))).to_string(a));m.type==="MWLSEntrypoint"&&m.value!=="unknown"&&d("LSThreadAttributionStore").setSource((k||(k=d("I64"))).to_string(b.threadKey),m.value)}return b}function a(a){var b,e=d("react-compiler-runtime").c(36),g=a.isMinimized,i=a.mwChatTabInThreadBannerQueryRef,m=a.tab;a=a.threadKeyDescriptor;g=g===void 0?!1:g;var n=(h||(h=c("useReStore")))(),o=a.clientThreadKey,p=a.threadKey,q=a.threadLinkHash;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(p,a.threadType,o,"MWV2ChatTab");var r;e[0]!==n.tables.threads||e[1]!==p?(r=function(){return d("ReQL").fromTableAscending(n.tables.threads,["folderName","themeFbid","threadKey","threadType","parentThreadKey","threadSubtype","threadName","authorityLevel","cannotUnsendReason","threadStatus","cannotReplyReason","clientThreadKey","consistentThreadFbid","metadata"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(p)},e[0]=n.tables.threads,e[1]=p,e[2]=r):r=e[2];var t;e[3]!==n||e[4]!==p?(t=[n,p],e[3]=n,e[4]=p,e[5]=t):t=e[5];r=d("ReQLSuspense").useFirst(r,t,f.id+":517");e[6]!==o||e[7]!==n.tables.threads?(t=function(){return o!=null?d("ReQL").fromTableAscending(n.tables.threads.index("clientThreadKey")).getKeyRange(o):d("ReQL").empty()},e[6]=o,e[7]=n.tables.threads,e[8]=t):t=e[8];var u;e[9]!==o||e[10]!==n?(u=[n,o],e[9]=o,e[10]=n,e[11]=u):u=e[11];t=d("ReQLSuspense").useFirst(t,u,f.id+":537");u=w(p,r);r=(u=u!=null?u:r)!=null?u:t;e[12]===Symbol["for"]("react.memo_cache_sentinel")?(u={shouldClearOldHiddenTab:!0,shouldUpdateThreadType:!0},e[12]=u):u=e[12];c("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(r,m,u);u=c("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")((t=r==null?void 0:r.threadKey)!=null?t:p,r==null?void 0:r.threadType);t=u[0];var v=u[1];u=u[2];b=c("useCometSubscribeMessengerIsOnDemandCutoverEligible")((b=r==null?void 0:r.threadKey)!=null?b:p,r==null?void 0:r.threadType);var x=b[0],y=b[1];b=b[2];a=d("MWV2EnsureThatChatTabExists").isOptimisticSecureThread(p,a.threadType,o)&&(r==null||!c("gkx")("12552")&&(k||(k=d("I64"))).equal(r.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)));v=!v||!y;y=r!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(r.threadType)&&v;v=y||a;if(v&&!d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled")){e[13]!==g||e[14]!==m?(y=g?null:l.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:m}),e[13]=g,e[14]=m,e[15]=y):y=e[15];return y}if(r!=null){a=g?"mwchat-tab-wrapper-minimized":void 0;v=g?"hidden":"visible";e[16]!==t||e[17]!==r?(y=r!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(r.threadType)&&t,e[16]=t,e[17]=r,e[18]=y):y=e[18];e[19]!==x||e[20]!==r?(t=r!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(r.threadType)&&x,e[19]=x,e[20]=r,e[21]=t):t=e[21];e[22]!==u||e[23]!==g||e[24]!==i||e[25]!==b||e[26]!==t||e[27]!==y||e[28]!==m||e[29]!==q||e[30]!==r?(x=l.jsx(s,{isMinimized:g,mwChatTabInThreadBannerQueryRef:i,otherContactIdForDefaultE2eeThread:u,otherContactIdForOnDemandCutover:b,shouldUseDefaultE2eeOneToOne:y,shouldUseOnDemandCutover:t,tab:m,thread:r,threadLinkHash:q}),e[22]=u,e[23]=g,e[24]=i,e[25]=b,e[26]=t,e[27]=y,e[28]=m,e[29]=q,e[30]=r,e[31]=x):x=e[31];e[32]!==x||e[33]!==a||e[34]!==v?(u=l.jsx(c("LegacyHidden"),{"data-testid":void 0,mode:v,children:x}),e[32]=x,e[33]=a,e[34]=v,e[35]=u):u=e[35];return u}return null}e=m(a);g["default"]=e}),98);
__d("useMWRelaySendSecureMessageV2_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useMWRelaySendSecureMessageV2_thread",selections:[{alias:"authorityLevel",args:null,kind:"ScalarField",name:"authority_level",storageKey:null},{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},{alias:"capabilities2",args:null,kind:"ScalarField",name:"capabilities_2",storageKey:null},{alias:"capabilities3",args:null,kind:"ScalarField",name:"capabilities_3",storageKey:null},{alias:"capabilities4",args:null,kind:"ScalarField",name:"capabilities_4",storageKey:null},{alias:"capabilities5",args:null,kind:"ScalarField",name:"capabilities_5",storageKey:null},{alias:"eventStartTimestampMs",args:null,kind:"ScalarField",name:"event_start_timestamp_ms",storageKey:null},{alias:"folderName",args:null,kind:"ScalarField",name:"folder_name",storageKey:null},{alias:"parentThreadKey",args:null,kind:"ScalarField",name:"parent_thread_key",storageKey:null},{alias:"threadSubtype",args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("useMWRelaySendSecureMessageV2",["LSRelayHooks","react-compiler-runtime","useMAWSendSecureMessageV2","useMWRelaySendSecureMessageV2_thread.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(14),f=a.afterSendMessage,g=a.resetAttachments;a=a.thread$key;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("useMWRelaySendSecureMessageV2_thread.graphql"),e[0]=i):i=e[0];i=d("LSRelayHooks").useFragment(i,a);a=i.authorityLevel;var j=i.capabilities,k=i.capabilities2,l=i.capabilities3,m=i.capabilities4,n=i.capabilities5,o=i.eventStartTimestampMs,p=i.folderName,q=i.parentThreadKey,r=i.threadKey,s=i.threadSubtype;i=i.threadType;o=o!=null?o:void 0;s=s!=null?s:void 0;var t;e[1]!==a||e[2]!==j||e[3]!==k||e[4]!==l||e[5]!==m||e[6]!==n||e[7]!==p||e[8]!==q||e[9]!==o||e[10]!==s||e[11]!==r||e[12]!==i?(t={authorityLevel:a,capabilities:j,capabilities2:k,capabilities3:l,capabilities4:m,capabilities5:n,eventStartTimestampMs:o,folderName:p,parentThreadKey:q,threadKey:r,threadSubtype:s,threadType:i},e[1]=a,e[2]=j,e[3]=k,e[4]=l,e[5]=m,e[6]=n,e[7]=p,e[8]=q,e[9]=o,e[10]=s,e[11]=r,e[12]=i,e[13]=t):t=e[13];return c("useMAWSendSecureMessageV2")(t,f,g)}g["default"]=a}),98);