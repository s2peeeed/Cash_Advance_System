;/*FB_PKG_DELIM*/

__d("E2EEBackupCommon",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","MISSING_PIN_INPUT","GENERAL_ERROR","INVALID_PASSWORD"]);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,c==null?void 0:c.message)||this;d.name="BackupError";d.errorType=b;d.detailedError=c;d.message=b+((c==null?void 0:c.message)!=null?": "+(c==null?void 0:c.message):"");return d}return b}(babelHelpers.wrapNativeSuper(Error));f.BackupErrorType=a;f.BackupError=c}),66);
__d("VestaClientBootstrap",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);function j(a,b){return a[b]}var k=i.length;function l(a){if(a<36)return;i[a]=k;k=a}function m(a){var b=j(i,a);l(a);return b}function n(a){k===i.length&&i.push(i.length+1);var b=k;k=j(i,b);i[b]=a;return b}function o(a){return a}var p=new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});p.decode();var q=null;function r(){var a=o(h.memory);(q===null||q.buffer!==a.buffer)&&(q=new Uint8Array(a.buffer));return q}function s(a,b){return p.decode(r().subarray(a,a+b))}function t(a,b){try{return a.apply(void 0,b)}catch(b){a=o(h.__wbindgen_exn_store);a(n(b))}}function u(a,b){return r().subarray(a/1,a/1+b)}async function v(a,b){if(typeof WebAssembly.instantiateStreaming==="function")return WebAssembly.instantiateStreaming(a,b);a=await a.arrayBuffer();return WebAssembly.instantiate(a,b)}async function w(b){var d=arguments,e={wbg:{__wbg_buffer_de1150f91b23aa89:function(a){return n(j(i,a).buffer)},__wbg_call_4573f605ca4b5f10:function(){return t(function(a,b){a=j(i,a).call(j(i,b));return n(a)},d)},__wbg_crypto_98fc271021c7d2ad:function(a){return n(j(i,a).crypto)},__wbg_getRandomValues_98117e9a7e993920:function(){return t(function(a,b){j(i,a).getRandomValues(j(i,b))},arguments)},__wbg_global_8c35aeee4ac77f2b:function(){return t(function(){var b=a.global;return n(b)},d)},__wbg_globalThis_56d9c9f814daeeee:function(){return t(function(){return n(window)},d)},__wbg_length_e09c0b925ab8de5d:function(a){return j(i,a).length},__wbg_modulerequire_3440a4bcf44437db:function(){return t(function(a,b){a=f.require(s(a,b));return n(a)},d)},__wbg_msCrypto_a2cdb043d2bfe57f:function(a){return n(j(i,a).msCrypto)},__wbg_new_97cf52648830a70d:function(a){return n(new Uint8Array(j(i,a)))},__wbg_newnoargs_fc5356289219b93b:function(a,b){a=new Function(s(a,b));return n(a)},__wbg_newwithlength_e833b89f9db02732:function(a){return n(new Uint8Array(a>>>0))},__wbg_node_4b517d861cbcb3bc:function(a){return n(j(i,a).node)},__wbg_process_2f24d6544ea7b200:function(a){return n(j(i,a).process)},__wbg_randomFillSync_64cc7d048f228ca8:function(){return t(function(a,b,c){j(i,a).randomFillSync(u(b,c))},d)},__wbg_self_ba1ddafe9ea7a3a2:function(){return t(function(){var a=self.self;return n(a)},d)},__wbg_set_a0172b213e2469e9:function(a,b,c){return j(i,a).set(j(i,b),c>>>0)},__wbg_subarray_9482ae5cd5cd99d3:function(a,b,c){return n(j(i,a).subarray(b>>>0,c>>>0))},__wbg_versions_6164651e75405d4a:function(a){return n(j(i,a).versions)},__wbg_window_be3cc430364fd32c:function(){return t(function(){var a=window.window;return n(a)},d)},__wbindgen_is_object:function(a){return typeof j(i,a)==="object"&&j(i,a)!==null},__wbindgen_is_string:function(a){return typeof j(i,a)==="string"},__wbindgen_is_undefined:function(a){return j(i,a)===void 0},__wbindgen_memory:function(){return n(h.memory)},__wbindgen_object_clone_ref:function(a){return n(j(i,a))},__wbindgen_object_drop_ref:m,__wbindgen_throw:function(a,b){throw c("FBLogger")("wasm_vesta_client").mustfixThrow(s(a,b))}}},g=await window.fetch(b),k=await v(await g,e),l=k.instance;h=l.exports;w.__wbindgen_wasm_module=f;return l}g.default=w}),98);
__d("VestaClient",["$InternalEnum","VestaClientBootstrap","bx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("mapVestaClientError").__setRef("VestaClient"),i=4096,j,k,l=function(a){return new Promise(function(b){h.onReady(function(c){b(c(a))})})};async function m(){var a=await c("VestaClientBootstrap")(c("bx").getURL(c("bx")("604")));j=a.exports;k=n(j.memory)}function n(a){return a}async function a(a,b){(j===void 0||k===void 0)&&await m();var c=0,d=new Uint8Array(k.buffer,c,a.byteLength);d.set(a);c+=d.byteLength;a=new Uint8Array(k.buffer,c,b.byteLength);a.set(b);c+=a.byteLength;b=new Uint8Array(k.buffer,c,i);var e=n(j.vesta_client_validate_hsm_key);e=e(d.byteOffset,d.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength);if(e!==0)throw await l(e);d=new DataView(k.buffer,c,i);a=r(d);return a[0][0]!==0}async function d(a){(j===void 0||k===void 0)&&await m();var b=0,c=new Uint8Array(k.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(k.buffer,b,i);var d=n(j.vesta_client_begin_register);d=d(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(d!==0)throw await l(d);c=new DataView(k.buffer,b,i);a=r(c);return{clientState:new Uint8Array(a[1]),r1Message:new Uint8Array(a[0])}}var o=b("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);async function e(a,b,c,d,e,f,g,h,p,q){p===void 0&&(p=0);q===void 0&&(q=o.WaBackupKeyData);(j===void 0||k===void 0)&&await m();var s=0,t=new Uint8Array(k.buffer,s,a.byteLength);t.set(a);s+=a.byteLength;a=new Uint8Array(k.buffer,s,b.byteLength);a.set(b);s+=b.byteLength;b=new Uint8Array(k.buffer,s,c.byteLength);b.set(c);s+=c.byteLength;c=new Uint8Array(k.buffer,s,d.byteLength);c.set(d);s+=d.byteLength;d=new Uint8Array(k.buffer,s,e.byteLength);d.set(e);s+=e.byteLength;e=new Uint8Array(k.buffer,s,f.byteLength);e.set(f);s+=f.byteLength;f=new Uint8Array(k.buffer,s,g.byteLength);f.set(g);s+=g.byteLength;g=new Uint8Array(k.buffer,s,h.byteLength);g.set(h);s+=h.byteLength;h=new Uint8Array(k.buffer,s,i);if(q===o.Raw){q=n(j.vesta_client_finish_register);q=q(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,p,h.byteOffset,h.byteLength)}else{var u=n(j.vesta_client_finish_register_proto);q=u(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,p,h.byteOffset,h.byteLength)}if(q!==0)throw await l(q);u=new DataView(k.buffer,s,i);t=r(u);return{registerIdentifier:new Uint8Array(t[1]),registerPayload:new Uint8Array(t[0])}}async function f(a){(j===void 0||k===void 0)&&await m();var b=0,c=new Uint8Array(k.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(k.buffer,b,i);var d=n(j.vesta_client_begin_login);d=d(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(d!==0)throw await l(d);c=new DataView(k.buffer,b,i);a=r(c);return{clientState:new Uint8Array(a[1]),l1Message:new Uint8Array(a[0])}}async function p(a,b,c,d){(j===void 0||k===void 0)&&await m();var e=0,f=new Uint8Array(k.buffer,e,a.byteLength);f.set(a);e+=a.byteLength;a=new Uint8Array(k.buffer,e,b.byteLength);a.set(b);e+=b.byteLength;b=new Uint8Array(k.buffer,e,c.byteLength);b.set(c);e+=c.byteLength;c=new Uint8Array(k.buffer,e,d.byteLength);c.set(d);e+=d.byteLength;d=new Uint8Array(k.buffer,e,i);var g=n(j.vesta_client_finish_login);g=g(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength);if(g!==0)throw await l(g);f=new DataView(k.buffer,e,i);a=r(f);return{exportKey:new Uint8Array(a[2]),l3Message:new Uint8Array(a[0]),sessionKey:new Uint8Array(a[1])}}async function q(a,b,c,d){d===void 0&&(d=o.WaBackupKeyData);(j===void 0||k===void 0)&&await m();var e=0,f=new Uint8Array(k.buffer,e,a.byteLength);f.set(a);e+=a.byteLength;a=new Uint8Array(k.buffer,e,b.byteLength);a.set(b);e+=b.byteLength;b=new Uint8Array(k.buffer,e,c.byteLength);b.set(c);e+=c.byteLength;c=new Uint8Array(k.buffer,e,i);if(d===o.Raw){d=n(j.vesta_client_unpack_login_payload);d=d(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}else{var g=n(j.vesta_client_unpack_login_payload_proto);d=g(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}if(d!==0)throw await l(d);g=new DataView(k.buffer,e,i);f=r(g);return{userSecret:new Uint8Array(f[0])}}function r(a){var b=[],c=0,d=a.getUint8(c++);for(var e=0;e<d;e++){var f=a.getUint32(c);c+=4;b[e]=[];for(var g=0;g<f;g++)b[e].push(a.getUint8(c++))}return b}g.validateHsmKey=a;g.beginRegister=d;g.SerializationMode=o;g.finishRegister=e;g.beginLogin=f;g.finishLogin=p;g.unpackLoginPayload=q}),98);
__d("VestaClientError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("E2EEBackupSecretRestoreModule",["E2EEBackupCommon","QuickPerformanceLogger","VestaClient","VestaClientError","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(235874858,"168");async function a(a,b,e){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase}});try{var f=await a.initLogin({clientId:b.clientId,productUseCase:b.productUseCase},e),g=f.islandRsaPub,j=f.islandRsaPubSig,k=f.islandEd25519Pub,l=f.islandEd25519PubSig;f=f.isRegistered;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"init_login_network_call");if(!f){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"NOT_REGISTERED"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NOT_REGISTERED)}f=await Promise.all([d("VestaClient").validateHsmKey(g,j),d("VestaClient").validateHsmKey(k,l)]);g=f[0];j=f[1];if(!g){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID)}if(!j){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID)}h.markerPoint(i,"verify_island_rsa_key");h.markerPoint(i,"verify_island_ed25519_key");l=b.vestaAccountPin;if(l==null)throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.MISSING_PIN_INPUT);else{f=new TextEncoder();g=await d("VestaClient").beginLogin(f.encode(l));j=g.clientState;f=g.l1Message;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"begin_login_vesta_client");l=await a.beginLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL1:f},e);g=l.opaqueL2;f=l.opaqueL2Sig;h.markerPoint(i,"begin_login_network_call");l=await d("VestaClient").finishLogin(g,f,k,j);g=l.exportKey;f=l.l3Message;k=l.sessionKey;h.markerPoint(i,"finish_login_vesta_client");j=await a.finishLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL3:f},e);l=j.loginSuccess;a=j.loginPayload;h.markerPoint(i,"finish_login_network_call");if(!l){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}if(a!=null){b=await d("VestaClient").unpackLoginPayload(a,k,g);f=b.userSecret;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"unpack_login_payload");h.markerEnd(i,2);return f}h.markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}}catch(a){if(a instanceof d("E2EEBackupCommon").BackupError)throw a;else if(a instanceof c("VestaClientError")){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VestaClientException: "+a.name}});h.markerEnd(i,3);if(a.name==="InvalidUserPassword")throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD,a);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,a)}else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:a.message}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,a)}}}g.restoreBackupSecret=a}),98);
__d("E2EEBackupUtil",["tweetnacl-util"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("tweetnacl-util").encodeBase64(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");a=a.length%4;if(a>0){if(a===1)throw new Error("Invalid length, couldn't decode input string");b=b.padEnd(b.length+(4-a),"=")}return c("tweetnacl-util").decodeBase64(b)}g.encodeBase64Url=a;g.decodeBase64Url=b}),98);
__d("MWChatEBPinCodeVerifyIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.isMessenger;a=a?"disabled":"blue";var e;b[0]!==a?(e=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXSpinner.react"),{color:a,size:12})}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:h._(/*BTDS*/"Verifying your PIN")})}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[e,a]}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWChatEncrypedBackupsNumericCodeKeyTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["TOP_ROW","NUM_PAD"]);c=b("$InternalEnum").Mirrored(["NUM_PAD_WITHOUT_NUM_LOCK","NON_NUMERIC_CHAR"]);f.ValidNumberType=a;f.InvalidKeyType=c}),66);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b=/^[0-9]*$/;return b.test(a)};a=function(a,b){return a.length>b?!1:g(a)};b=function(a,b){return a.length!==b?!1:g(a)};f.numericCodeIsValid=a;f.numericCodeIsCompleted=b}),66);
__d("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29657246047255053"}),null);
__d("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters",["MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsForgotPINDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsForgotPINDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPINDialog.react").__setRef("MWChatEncryptedBackupsForgotPINDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPinStepDialogPage.react").__setRef("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inputWrapperErrorOnly:{paddingBottom:"x18d9i69",$$css:!0},outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.error;a=a.inputSize;a=a===void 0?"large":a;var g=a==="large"?k.outterWrapper:k.outterWrapperSmall;a=a==="large"?20:0;var i;b[0]!==f?(i=(h||(h=c("stylex"))).props(f!=null&&[k.inputWrapperErrorOnly]),b[0]=f,b[1]=i):i=b[1];var l;b[2]!==e||b[3]!==i?(l=j.jsx("div",babelHelpers["extends"]({},i,{children:e})),b[2]=e,b[3]=i,b[4]=l):l=b[4];b[5]!==f?(e=f!=null?j.jsx("div",babelHelpers["extends"]({className:"x10b6aqq x1y1aw1k x2b8uid"},{children:j.jsx(c("MWXText.react"),{color:"negative",testid:void 0,type:"body4",children:f})})):null,b[5]=f,b[6]=e):e=b[6];b[7]!==a||b[8]!==l||b[9]!==e?(i=j.jsxs(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:a,paddingTop:0,children:[l,e]}),b[7]=a,b[8]=l,b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(f=j.jsx(c("MWXColumn.react"),{xstyle:g,children:i}),b[11]=g,b[12]=i,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsNumericCodeInputAutoFocus",["FocusRegion.react","HiddenSubtreePassiveContext","focusScopeQueries","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function k(a){if(!("elementsFromPoint"in document))return!0;var b=a.getBoundingClientRect();b=document.elementsFromPoint(b.left+b.width/2,b.top+b.height/2);for(b of b){if(b===a)return!1;var c=window.getComputedStyle(b);if(c.visibility!=="hidden"&&c.display!=="none")return!0}return!1}function l(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){var b=function(b){b.key>="0"&&b.key<="9"&&a(b.key)};window.addEventListener("keydown",b);return function(){window.removeEventListener("keydown",b)}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);j(c,e)}function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=i(c("HiddenSubtreePassiveContext")),h;f[0]!==b||f[1]!==a||f[2]!==g||f[3]!==e?(h=function(){var f=g.getCurrentState(),h=["input","textarea"].some(m);!a&&!h&&!f.hiddenOrBackgrounded&&!(e.current?k(e.current):!0)&&(c("qex")._("4759")&&d("FocusRegion.react").focusRegionById(b,d("focusScopeQueries").tabbableScopeQuery))},f[0]=b,f[1]=a,f[2]=g,f[3]=e,f[4]=h):h=f[4];l(h)}function m(a){var b;return(b=document.activeElement)==null?void 0:b.matches(a)}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","justknobx","qex","react","react-compiler-runtime","useMWChatEncryptedBackupsNumericCodeInputAutoFocus"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=c("gkx")("24058"),n=c("justknobx")._("4735"),o=function(a){return["0","1","2","3","4","5","6","7","8","9"].includes(a.key)},p=new Map([["Numpad0","0"],["Numpad1","1"],["Numpad2","2"],["Numpad3","3"],["Numpad4","4"],["Numpad5","5"],["Numpad6","6"],["Numpad7","7"],["Numpad8","8"],["Numpad9","9"]]),q=function(a){return a.location===3&&!o(a)&&!a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey?p.get((a=a.nativeEvent)==null?void 0:a.code):null},r={input:{height:"x5yr21d",start:"x17qophe",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(45),e=a.extraProps;a=a.props;var f=e.hasFocus,g=e.setFocus;e=a["aria-label"];var h=a.disabled,p=a.focusRegionId,t=a.inputMode,u=a.onChange,v=a.onCompletionChange,w=a.onEnabledNumLock,x=a.onPressedInvalidKey,y=a.onPressedValidNumber,z=a.size,A=a.testid,B=a.value,C=h===void 0?!1:h;a=l(B.length===z);var D=a[0],E=a[1],F=k(null),G=k(C);c("useMWChatEncryptedBackupsNumericCodeInputAutoFocus")(f,p,F);b[0]!==D||b[1]!==u||b[2]!==v||b[3]!==z?(h=function(a){var b=d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,z);u(a);v!=null&&b!==D&&(E(b),v(b))},b[0]=D,b[1]=u,b[2]=v,b[3]=z,b[4]=h):h=b[4];var H=h;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){var a=s,b=F.current;b==null?void 0:b.addEventListener("selectstart",a);return function(){b==null?void 0:b.removeEventListener("selectstart",a)}},f=[],b[5]=a,b[6]=f):(a=b[5],f=b[6]);j(a,f);b[7]!==C||b[8]!==g?(h=function(){C&&g(!1)},a=[C,g],b[7]=C,b[8]=g,b[9]=h,b[10]=a):(h=b[9],a=b[10]);j(h,a);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a=F.current;if(a==null)return;var b=function(){var b=a.value.length,c=a.selectionStart===a.selectionEnd&&a.selectionStart===b;c||a.setSelectionRange(b,b)};a.addEventListener("selectionchange",b);return function(){a.removeEventListener("selectionchange",b)}},h=[],b[11]=h,b[12]=f):(h=b[11],f=b[12]);j(f,h);b[13]!==C||b[14]!==p?(a=function(){G.current!==C&&(G.current=C,C||d("FocusRegion.react").focusRegionById(p,d("focusScopeQueries").tabbableScopeQuery))},f=[C,p],b[13]=C,b[14]=p,b[15]=a,b[16]=f):(a=b[15],f=b[16]);j(a,f);b[17]!==w||b[18]!==x||b[19]!==y||b[20]!==B||b[21]!==H?(h=function(a){if(o(a))a.location===0?y==null?void 0:y(d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.TOP_ROW):a.location===3&&(y==null?void 0:y(d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.NUM_PAD));else{var b=q(a);if(b!=null){x==null?void 0:x(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK);if(c("qex")._("4752")===!0){b=B+b;H(b);a.preventDefault();a.stopPropagation()}}else a.key==="NumLock"&&(a.getModifierState==null?void 0:a.getModifierState("NumLock"))===!0&&(w==null?void 0:w())}},b[17]=w,b[18]=x,b[19]=y,b[20]=B,b[21]=H,b[22]=h):h=b[22];var I=h;a=A!=null?A+"-mw-numeric-code-input-prevent-composer-focus-steal":"mw-numeric-code-input-prevent-composer-focus-steal";b[23]!==g?(f=function(){g(!1)},h=function(){g(!0)},b[23]=g,b[24]=f,b[25]=h):(f=b[24],h=b[25]);var J;b[26]!==I?(J=function(a){var b=a.keyCode;(b===35||b===36||b===37||b===38||b===39||b===40)&&(a.preventDefault(),a.stopPropagation());n&&(I==null?void 0:I(a))},b[26]=I,b[27]=J):J=b[27];var K;b[28]!==x||b[29]!==z||b[30]!==H?(K=function(a){a=a.toString();d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,z)?H(a):n&&(x==null?void 0:x(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR))},b[28]=x,b[29]=z,b[30]=H,b[31]=K):K=b[31];var L;b[32]===Symbol["for"]("react.memo_cache_sentinel")?(L=[r.input,m&&r.testOpacity],b[32]=L):L=b[32];b[33]!==e||b[34]!==C||b[35]!==t||b[36]!==z||b[37]!==a||b[38]!==f||b[39]!==h||b[40]!==J||b[41]!==K||b[42]!==A||b[43]!==B?(L=i.jsx(c("BaseTextInput.react"),{"aria-label":e,autoComplete:"one-time-code",disabled:C,id:a,inputMode:t,maxLength:z,onBlur:f,onFocus:h,onKeyDown:J,onValueChange:K,ref:F,testid:void 0,value:B,xstyle:L}),b[33]=e,b[34]=C,b[35]=t,b[36]=z,b[37]=a,b[38]=f,b[39]=h,b[40]=J,b[41]=K,b[42]=A,b[43]=B,b[44]=L):L=b[44];return L}function s(a){a.preventDefault()}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["MWXRow.react","MWXRowItem.react","MWXText.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={focusRing:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},input:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}},n="-",o="\u25cf";function p(a,b){if(b)return"disabled";return!c("gkx")("7485")?"primary":a===n?"secondary":"primary"}function a(a){var b=d("react-compiler-runtime").c(28),e=a.color,f=a.disabled,g=a.enableMasking,i=a.hasFocus,q=a.inputSize,r=a.size,s=a.testid,t=a.value,u=e===void 0?"primary":e,v=f===void 0?!1:f,w=g===void 0?!1:g,x=q===void 0?"large":q;a=s===void 0?"numeric-renderer":s;b[0]!==i||b[1]!==r||b[2]!==t?(e=function(a){return(t.length===a||t.length>a&&a===r-1)&&i},b[0]=i,b[1]=r,b[2]=t,b[3]=e):e=b[3];var y=e;b[4]!==r?(f=Array(r).fill(c("gkx")("7485")?n:""),b[4]=r,b[5]=f):f=b[5];g=l(f);q=g[0];var z=g[1];b[6]!==w||b[7]!==r||b[8]!==t?(s=function(){z(Array(r).fill().map(function(a,b){return t[b]!=null?w?o:t[b]:c("gkx")("7485")?n:""}))},e=[w,r,t],b[6]=w,b[7]=r,b[8]=t,b[9]=s,b[10]=e):(s=b[9],e=b[10]);k(s,e);if(b[11]!==u||b[12]!==v||b[13]!==w||b[14]!==x||b[15]!==y||b[16]!==a||b[17]!==q){b[19]!==u||b[20]!==v||b[21]!==w||b[22]!==x||b[23]!==y||b[24]!==a?(f=function(a,b){return j.jsx(c("MWXRowItem.react"),{xstyle:m.inputBox,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.input,x==="small"&&m.inputSmall,x==="tiny"&&m.inputTiny,u==="primary"&&m.inputColorPrimary,u==="secondary"&&m.inputColorSecondary,y(b)&&m.focusRing),{"aria-hidden":a===n&&c("gkx")("7485"),"data-testid":void 0,children:w?j.jsx(c("MWXText.react"),{color:p(a,v),type:c("gkx")("7485")&&a===n?"entityHeaderHeadline1":"headlineEmphasized4",children:v?o:a}):j.jsx(c("MWXText.react"),{color:p(a,v),type:c("gkx")("7485")&&a===n?"entityHeaderHeadline1":"headlineEmphasized1",children:a})}))},b)},b[19]=u,b[20]=v,b[21]=w,b[22]=x,b[23]=y,b[24]=a,b[25]=f):f=b[25];g=q.map(f);b[11]=u;b[12]=v;b[13]=w;b[14]=x;b[15]=y;b[16]=a;b[17]=q;b[18]=g}else g=b[18];b[26]!==g?(s=j.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:g}),b[26]=g,b[27]=s):s=b[27];return s}g.MWChatEncryptedBackupsNumericCodeInputRenderer=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.enableMasking,f=a.inputSize,g=a.size,h=a.testid,k=a.value,l=j(!1),m=l[0];l=l[1];var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1n2onr6"},b[0]=n):n=b[0];var o;b[1]!==e||b[2]!==m||b[3]!==a.color||b[4]!==a.disabled||b[5]!==f||b[6]!==g||b[7]!==h||b[8]!==k?(o=i.jsx(d("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:a.color,disabled:a.disabled,enableMasking:e,hasFocus:m,inputSize:f,size:g,testid:void 0,value:k}),b[1]=e,b[2]=m,b[3]=a.color,b[4]=a.disabled,b[5]=f,b[6]=g,b[7]=h,b[8]=k,b[9]=o):o=b[9];b[10]!==m?(e={hasFocus:m,setFocus:l},b[10]=m,b[11]=e):e=b[11];b[12]!==a||b[13]!==e?(f=i.jsx(c("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:e,props:a}),b[12]=a,b[13]=e,b[14]=f):f=b[14];b[15]!==o||b[16]!==f?(g=i.jsxs("div",babelHelpers["extends"]({},n,{children:[o,f]})),b[15]=o,b[16]=f,b[17]=g):g=b[17];return g}g["default"]=a}),98);
__d("MWChatEncryptedBackupsSetIsDialogPersistedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({setIsDialogPersisted:function(){}});g["default"]=b}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery.graphql",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:!1,kind:"LocalArgument",name:"labyrinthOnePointOneSecurityUX"}],c={alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"},{args:[{kind:"Variable",name:"labyrinthOnePointOneSecurityUX",variableName:"labyrinthOnePointOneSecurityUX"}],kind:"FragmentSpread",name:"MWChatEncryptedBackupsSettingsDialogStep_query"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,e],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backup_encryption_management_delegator_id",storageKey:null}],type:"User",abstractKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[f,e,{alias:null,args:null,kind:"ScalarField",name:"last_sync_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null},{condition:"labyrinthOnePointOneSecurityUX",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_sender_backup",storageKey:null}]},d,{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react",["CometScrollView.react","MWXColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(18),f=a.bottomItem,g=a.children,h=a.ref,j=a.size;a=a.topItem;b=(b=a==null?void 0:a.align)!=null?b:"start";j=j==="small"?8:16;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x21xpn4"},e[0]=k):k=e[0];a=a==null?void 0:a.item;e[1]!==a?(k=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),e[1]=a,e[2]=k):k=e[2];e[3]!==b||e[4]!==j||e[5]!==k?(a=i.jsx(c("MWXColumnItem.react"),{align:b,paddingHorizontal:16,paddingTop:j,children:k}),e[3]=b,e[4]=j,e[5]=k,e[6]=a):a=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1iyjqo2"},e[7]=b):b=e[7];e[8]!==g||e[9]!==h?(j=i.jsx("div",babelHelpers["extends"]({},b,{ref:h,children:g})),e[8]=g,e[9]=h,e[10]=j):j=e[10];e[11]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xisnujt"},e[11]=k):k=e[11];e[12]!==f?(b=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:i.jsx("div",babelHelpers["extends"]({},k,{children:f}))}),e[12]=f,e[13]=b):b=e[13];e[14]!==b||e[15]!==a||e[16]!==j?(g=i.jsxs(c("CometScrollView.react"),{children:[a,j,b]}),e[14]=b,e[15]=a,e[16]=j,e[17]=g):g=e[17];return g}b=a;e=b;g["default"]=e}),98);
__d("MWEBConnections4AndroidIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(7),e=a.alt,f=a.ref,g=a.size;a=a.xstyle;g=g===void 0?"large":g;var i;b[0]!==g?(i=g==="large"?k?h("398892"):h("398891"):h("398080"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=i):i=b[6];return i}g["default"]=a}),98);
__d("MWEBFlowSourceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({source:null});g["default"]=b}),98);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.source;var f;b[0]!==a?(f={source:a},b[0]=a,b[1]=f):f=b[1];a=f;f=a;b[2]!==e||b[3]!==f?(a=i.jsx(c("MWEBFlowSourceContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWEBNoMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBNoMobileEOTRInformationalDialog.react").__setRef("MWEBNoMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBOTCDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBOTCDialog.react").__setRef("MWEBOTCDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBPinCodeSize",[],(function(a,b,c,d,e,f){"use strict";a=6;f.EB_PIN_CODE_SIZE=a}),66);
__d("MWEBQPWithPinState.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INITIAL:0,RESTORE_IN_PROGRESS:1});c=a;f["default"]=c}),66);
__d("MWEBRestoreQPWithPin_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBRestoreQPWithPin_viewer",selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBUntrustedMobileEOTRInformationalDialog.react").__setRef("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("MWEncryptedBackupsForgotPinStep",["fbt","MWChatEncryptedBackupsForgotPINDialog.entrypoint","MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint","MWEBNoMobileEOTRInformationalDialog.entrypoint","MWEBUntrustedMobileEOTRInformationalDialog.entrypoint","MWEBVirtualDevicesContext.react","MWJewelPopoverDialogContext.react","emptyFunction","qex","react","react-compiler-runtime","useMWXEntryPointDialog","usePushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i.useContext,k=h._(/*BTDS*/"Forgot PIN?"),l=h._(/*BTDS*/"Need help?"),m="https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more";function a(a){var b,e=d("react-compiler-runtime").c(38),f=a.hasMobileDevices,g=a.offlineDevicesCount,h=a.onClose,i=a.onComplete,j=a.pushPage;a=(a=c("qex")._("3693"))!=null?a:!1;b=(b=c("qex")._("4656"))!=null?b:!1;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];n=c("usePushPage")(c("MWEBNoMobileEOTRInformationalDialog.entrypoint"),n);var o=n[0];n=n[1];if(e[1]!==n){n.onHighIntent;var p=babelHelpers.objectWithoutPropertiesLoose(n,["onHighIntent"]);p=p;e[1]=n;e[2]=p}else p=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={},e[3]=n):n=e[3];n=c("usePushPage")(c("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint"),n);var q=n[0];n=n[1];if(e[4]!==n){n.onHighIntent;var r=babelHelpers.objectWithoutPropertiesLoose(n,["onHighIntent"]);r=r;e[4]=n;e[5]=r}else r=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(n={},e[6]=n):n=e[6];n=c("usePushPage")(c("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint"),n);var s=n[0];n=n[1];if(e[7]!==n){n.onHighIntent;var t=babelHelpers.objectWithoutPropertiesLoose(n,["onHighIntent"]);t=t;e[7]=n;e[8]=t}else t=e[8];if(a&&!f){e[9]!==h||e[10]!==i||e[11]!==o?(n=function(){o({onClose:h,onComplete:i})},e[9]=h,e[10]=i,e[11]=o,e[12]=n):n=e[12];e[13]!==p.onHoverIn||e[14]!==p.onHoverOut||e[15]!==p.onPressIn||e[16]!==n?(a={children:k,onClick:n,onHoverEnd:p.onHoverOut,onHoverStart:p.onHoverIn,onPressStart:p.onPressIn},e[13]=p.onHoverIn,e[14]=p.onHoverOut,e[15]=p.onPressIn,e[16]=n,e[17]=a):a=e[17];return a}if(b&&f){e[18]!==h||e[19]!==s?(p=function(){s({onClose:h})},e[18]=h,e[19]=s,e[20]=p):p=e[20];e[21]!==p||e[22]!==t.onHoverIn||e[23]!==t.onHoverOut||e[24]!==t.onPressIn?(n={children:k,onClick:p,onHoverEnd:t.onHoverOut,onHoverStart:t.onHoverIn,onPressStart:t.onPressIn},e[21]=p,e[22]=t.onHoverIn,e[23]=t.onHoverOut,e[24]=t.onPressIn,e[25]=n):n=e[25];return n}var u=g>0;if(u){e[26]!==u||e[27]!==h||e[28]!==i||e[29]!==q||e[30]!==j?(a=function(){q({isRCDeviceEnabled:u,onClose:h,onComplete:i,pushPage:j},{})},e[26]=u,e[27]=h,e[28]=i,e[29]=q,e[30]=j,e[31]=a):a=e[31];e[32]!==r.onHoverIn||e[33]!==r.onHoverOut||e[34]!==r.onPressIn||e[35]!==a?(b={children:l,onClick:a,onHoverEnd:r.onHoverOut,onHoverStart:r.onHoverIn,onPressStart:r.onPressIn},e[32]=r.onHoverIn,e[33]=r.onHoverOut,e[34]=r.onPressIn,e[35]=a,e[36]=b):b=e[36];return b}else{e[37]===Symbol["for"]("react.memo_cache_sentinel")?(f={children:l,href:m,rel:"noreferrer",target:"_blank"},e[37]=f):f=e[37];return f}}function b(a){var b=d("react-compiler-runtime").c(14);a=a.onDismiss;var e=a===void 0?c("emptyFunction"):a;a=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();a=a.virtualDeviceInfo;a=a.offlineDevicesCount;var f=j(c("MWJewelPopoverDialogContext.react")),g=f.setIsOpenForDialog;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];f=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsForgotPINDialog.entrypoint"),f);var h,i;b[1]!==f?(i=f[0],h=f.slice(1),b[1]=f,b[2]=h,b[3]=i):(h=b[2],i=b[3]);f=a>0;if(f){a=h;f=a[0];h=a[1];a=a[2];var k;b[4]!==e||b[5]!==g||b[6]!==i?(k=function(){g(!0),i({onDismiss:e})},b[4]=e,b[5]=g,b[6]=i,b[7]=k):k=b[7];var n;b[8]!==h||b[9]!==f||b[10]!==a||b[11]!==k?(n={children:l,onClick:k,onHoverEnd:h,onHoverStart:f,onPressStart:a},b[8]=h,b[9]=f,b[10]=a,b[11]=k,b[12]=n):n=b[12];return n}else{b[13]===Symbol["for"]("react.memo_cache_sentinel")?(h={children:l,href:m,rel:"noreferrer",target:"_blank"},b[13]=h):h=b[13];return h}}g.useForgotPinLinkPushPageProps=a;g.useForgotPinLinkShowDialogProps=b}),226);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("23433");function a(){var a=i?h("414274"):h("1745665");return a}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAddDevice",["EBMainThreadEBDBApiDeferred","LSDataTraceCheckPoint","LSIntEnum","MAWTraceUtils","Promise","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useCallback;var k=e.useRef,l=e.useState,m=c("requireDeferred")("MAWEncryptedBackupsClearRecoveryCode").__setRef("useMWChatEncryptedBackupsAddDevice"),n=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("useMWChatEncryptedBackupsAddDevice"),o=c("requireDeferred")("mwEBAddDevice").__setRef("useMWChatEncryptedBackupsAddDevice");function a(a){var e=d("react-compiler-runtime").c(12),f=a.environment,g=a.hsmFleetMigrationResetPIN,j=a.onComplete,s=a.onFailure,t=a.onInvalidRecoveryCode,u=a.onStart;a=l(!1);var v=a[0],w=a[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){w(!1)},e[0]=a):a=e[0];var x=a,y=c("useAsyncReStore")(),z=k("");e[1]!==y||e[2]!==f||e[3]!==g||e[4]!==j||e[5]!==s||e[6]!==t||e[7]!==u?(a=function(a,e,k){z.current=k||"",c("promiseDone")((h||(h=b("Promise"))).all([y,m.load(),o.load().then(r),n.load()]),function(h){var k=h[0],b=h[1],l=h[2];h=h[3];b=b.encryptedBackupsClearRecoveryCode;var m=h.encryptedBackupsFetchBackupIds;return c("promiseDone")(b(k),function(){var b={onFailure:function(a){x(),s(a),e!=null&&d("MAWTraceUtils").recordFailureAndFlushForTraceId(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_RESTORE_FAILURE),[],"Add Device Failure")},onInvalidRecoveryCode:function(){x(),t()},onStart:function(){w(!0),e!=null&&d("MAWTraceUtils").recordSuccessAndFlushForTraceId(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE),[]),u==null?void 0:u()},onSuccess:function(){c("promiseDone")(m(k)),x(),j(),g&&z.current!==""&&g(z.current)},recoveryCode:a,storage:k};return l(babelHelpers["extends"]({},b,{environment:f,traceId:d("MAWTraceUtils").stringToTraceId(e),trackAddingDevice:q,trackOverprompting:p}))})})},e[1]=y,e[2]=f,e[3]=g,e[4]=j,e[5]=s,e[6]=t,e[7]=u,e[8]=a):a=e[8];a=a;var A;e[9]!==v||e[10]!==a?(A=[a,v],e[9]=v,e[10]=a,e[11]=A):A=e[11];return A}function p(a){return d("EBMainThreadEBDBApiDeferred").trackOverprompting(a)}function q(){return d("EBMainThreadEBDBApiDeferred").addNewDevice()}function r(a){return a.EBAddDevice}g["default"]=a}),98);
__d("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError",["fbt","MWChatEncrypedBackupsNumericCodeKeyTypes","qex"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)return b==="pin"&&c("qex")._("4748")===!0?h._(/*BTDS*/"Your PIN can only contain numbers"):null;else if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK)return h._(/*BTDS*/"Press Num Lock to use the numeric keypad")}g["default"]=a}),226);
__d("useMWChatEncryptedBackupsNumericCode",["fbt","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","QPLUserFlow","focusScopeQueries","getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError","justknobx","promiseDone","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i.useState,k=c("justknobx")._("4736"),l={confirmPin:h._(/*BTDS*/"Confirm your PIN"),otc:h._(/*BTDS*/"One-time code"),pin:h._(/*BTDS*/"PIN")};function a(a){var b=a.checkPreviouslyInsertedCode,e=a.clearInputOnComplete,f=e===void 0?!1:e;e=a.enableMasking;var g=a.focusRegionId,h=a.inputSize,i=a.keyTypeQplEvent,m=a.onChange,n=a.onComplete;a=a.type;var o=j(!1),p=o[0],q=o[1];o=j(!0);var r=o[0],s=o[1];o=j("");var t=o[0],u=o[1];o=j(null);var v=o[0],w=o[1];o=function(a){w(null),s(!a)};var x=async function(a){if(d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,h)){if(b!=null){var c=b.onCodeMismatch,e=b.previouslyInsertedCode;e=e===a;if(!e){c();return}}s(!0);q(!0);try{await n(a),f&&u("")}catch(a){u("")}finally{q(!1)}}},y=b!=null&&a==="pin"?"confirmPin":a;return[{"aria-label":l[y],disabled:p,enableMasking:e,focusRegionId:g,onChange:function(a){var b=function(){d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,h)&&(u(a),w(null),m==null?void 0:m(a),c("promiseDone")(x(a)))};b()},onCompletionChange:o,onEnabledNumLock:function(){v===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&w(null)},onPressedInvalidKey:function(a){(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR||a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&c("qex")._("4753")===!0)&&w(a),i!=null&&k&&(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR?c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_non_numeric_char:!0}}):a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_num_pad_without_num_lock:!0}}))},onPressedValidNumber:function(a){i!=null&&k&&(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.NUM_PAD?c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_number_num_pad:!0}}):a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").ValidNumberType.TOP_ROW&&c("QPLUserFlow").addAnnotations(i,{bool:{pin_input_pressed_number_top_row:!0}}))},size:h,value:t},{clearNumericInput:function(){return u("")},disabled:r,focusOnInput:function(){d("FocusRegion.react").focusRegionById(g,d("focusScopeQueries").tabbableScopeQuery)},invalidKeyPressedError:c("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError")(v,a),isLoading:p,onPress:function(){c("promiseDone")(x(t))}}]}g.useMWChatEncryptedBackupsNumericCode=a}),226);
__d("useMWEBFlowSourceContext",["FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(){var a=d("react-compiler-runtime").c(2),b=i(c("MWEBFlowSourceContext")),e=b.source;a[0]!==e?(b=function(){if(e==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] source is null. Did you wrap your flow with MWEBFlowSourceContextProvider?");return c("MWChatEncryptedBackupsQPLSource.enum").UNKNOWN}return e},a[0]=e,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsPinCodeRestore",["CometRelay","EBSMGatingUI","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBODSEntityName.enum","MWEBPinCodeSize","MWEBUpsellDismissedEnum.facebook","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("MWEBUseLocalStorage").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),o=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),p=c("requireDeferred")("mwEBGetPINSecretFromVesta").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),q=c("requireDeferred")("updateUpsellsStateInRelayStore").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),r=c("JSResourceForInteraction")("MWEncryptedBackupsHsmFleetMigrationGated").__setRef("useMWChatEncryptedBackupsPinCodeRestore");function a(a){var b=d("react-compiler-runtime").c(47),e=a.clientID,f=a.focusRegionId,g=a.onSubmitPin,i=a.onSubmitPinFailure,t=a.onVestaComplete,u=d("CometRelay").useRelayEnvironment();a=m(!1);var v=a[0],w=a[1];a=m(!1);var x=a[0],y=a[1];a=m(!1);var z=a[0],A=a[1],B=l(!1);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var C=a.startFlow,D=(h||(h=c("useReStore")))(),E=c("useMWEBFlowSourceContext")();a=m(!1);var F=a[0],G=a[1],H=j(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;b[0]!==D||b[1]!==u||b[2]!==C?(a=function(a){c("promiseDone")(r.load().then(function(b){b({db:D,environment:u,pinCode:a,startFlow:C})}))},b[0]=D,b[1]=u,b[2]=C,b[3]=a):a=b[3];a=a;var I;b[4]!==D||b[5]!==u||b[6]!==t?(I=function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");o.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:D,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});n.onReady(s);d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});t();G(!1);c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED})})},b[4]=D,b[5]=u,b[6]=t,b[7]=I):I=b[7];I=I;var J;b[8]!==u||b[9]!==i||b[10]!==H?(J=function(a){i==null?void 0:i(),B.current=!0,y(!0),G(!1),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},b[8]=u,b[9]=i,b[10]=H,b[11]=J):J=b[11];J=J;var K;b[12]!==u||b[13]!==i||b[14]!==H?(K=function(){i==null?void 0:i(),B.current=!0,y(!0),G(!1),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"pin_code_restore_wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_wrong_recovery_code"),c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},b[12]=u,b[13]=i,b[14]=H,b[15]=K):K=b[15];K=K;var L;b[16]!==u||b[17]!==a||b[18]!==I||b[19]!==J||b[20]!==K?(L={environment:u,hsmFleetMigrationResetPIN:a,onComplete:I,onFailure:J,onInvalidRecoveryCode:K},b[16]=u,b[17]=a,b[18]=I,b[19]=J,b[20]=K,b[21]=L):L=b[21];a=c("useMWChatEncryptedBackupsAddDevice")(L);var M=a[0];b[22]===Symbol.for("react.memo_cache_sentinel")?(I=function(){y(!1),A(!1),w(!1)},b[22]=I):I=b[22];b[23]!==M||b[24]!==e||b[25]!==u||b[26]!==E||b[27]!==g||b[28]!==i||b[29]!==H||b[30]!==C?(J=async function(a){var b=await p.load();await b({addDevice:M,clientID:e,environment:u,getSourceFromContext:E,onSubmitPin:g,onSubmitPinFailure:i,onVestaSecretFetch:function(){H==null?void 0:H(!0)},pinCode:a,productUseCase:"MSGR_ENC_BACKUP",setIsInProgress:G,setIsPinCodeIncorrect:w,setIsVestaError:A,startFlow:C})},b[23]=M,b[24]=e,b[25]=u,b[26]=E,b[27]=g,b[28]=i,b[29]=H,b[30]=C,b[31]=J):J=b[31];b[32]!==f||b[33]!==J?(K={enableMasking:!0,focusRegionId:f,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,keyTypeQplEvent:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,onChange:I,onComplete:J,type:"pin"},b[32]=f,b[33]=J,b[34]=K):K=b[34];L=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(K);a=L[0];I=L[1];var N=I.clearNumericInput;f=I.disabled;J=I.focusOnInput;K=I.invalidKeyPressedError;b[35]!==N?(L=function(){B.current&&(N(),B.current=!1)},I=[N],b[35]=N,b[36]=L,b[37]=I):(L=b[36],I=b[37]);k(L,I);L=f!=null?f:!1;b[38]!==J||b[39]!==a||b[40]!==K||b[41]!==F||b[42]!==x||b[43]!==v||b[44]!==z||b[45]!==L?(I={focusOnInput:J,inputProps:a,invalidKeyPressedError:K,isDisabled:L,isInProgress:F,isLabyrinthError:x,isPinCodeIncorrect:v,isVestaError:z},b[38]=J,b[39]=a,b[40]=K,b[41]=F,b[42]=x,b[43]=v,b[44]=z,b[45]=L,b[46]=I):I=b[46];return I}function s(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}g.useMWChatEncryptedBackupsPinCodeRestore=a}),98);
__d("MWEBRestoreQPWithPin.react",["fbt","CometRelay","EncryptedBackupsSupportedPlatformUtils","FBLogger","FocusRegion.react","JSResourceForInteraction","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContextProvider.react","MWEBOTCDialog.entrypoint","MWEBQPWithPinState.enum","MWEBRestoreQPWithPin_viewer.graphql","MWEncryptedBackupsForgotPinStep","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWLogInboxFiltersInteraction","MWLogInteraction","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconCross","MWXImage.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","cr:6334","cr:6335","focusScopeQueries","getMWEBRestoreQPCautionCircleProperties","gkx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","useMWChatEncryptedBackupsPinCodeRestore","useMWChatEncryptedBackupsVestaUserInfo","useMWEBFlowSourceContext","useMWXEntryPointDialog","useMWXLazyDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedDialog.react").__setRef("MWEBRestoreQPWithPin.react"),s="chat-encrypted-backups-jewel-qp-with-pin-input",t={icon:{paddingTop:"x889kno",$$css:!0}};function u(a){var e=a.clientID,f=a.doesUserHaveOtcEligibleDevices,g=a.fragmentKey,j=a.isInbox,u=a.setClosed,v=a.setDismissed,w=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEBRestoreQPWithPin_viewer.graphql"),g),x=d("CometRelay").useRelayEnvironment(),y=l(function(a){return d("CometRelay").commitLocalUpdate(x,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][jewel_softblock_state] A viewer record does not exist when propagating EB restore qp with pin state");return}b.setValue(a,"qp_with_pin_state")})},[x]);g=w==null?void 0:(a=w.messenger_default_encrypted_backup)==null?void 0:a.vesta_user_info;var z=c("useMWChatEncryptedBackupsVestaUserInfo")({vestaGetUserInfoResponse$key:g}),A=z.attemptsRemaining===0||z.loginTimeoutRemainingSecs!=null;a=q(!1);var B=a[0],C=a[1],D=p(!1);g=c("useMWXLazyDialog")(r);var E=g[0];n(function(){A&&B===!0&&D.current!==!0&&(D.current=!0,E({attemptsRemaining:z.attemptsRemaining,loginTimeoutRemainingSecs:z.loginTimeoutRemainingSecs,onDismiss:function(){}}))},[A,E,B,z.attemptsRemaining,z.loginTimeoutRemainingSecs]);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var F=a.startFlow,G=c("useAsyncReStore")(),H=c("useMWEBFlowSourceContext")(),I=o(function(){return H()},[H]),J=l(function(a){c("promiseDone")(G.then(function(b){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,g=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,j=b.hasPDB,k=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;F({additionalAnnotations:{eb_session_identifier:g,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:j,has_user_restored_before:k,has_user_restored_before_temp:b,is_otc_eligible:f.toString(),is_pin_set:"true",restore_upsell_first_impression_time:g},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:I});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a)}})}))},[G,F,f,I]);g=l(function(){var a=j?"RESTORE_QP_WITH_PIN_INBOX_DISMISSED":"RESTORE_QP_WITH_PIN_JEWEL_DISMISSED";J(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_qp_with_pin",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});u();v()},[j,u,v,J]);a=m(c("MWJewelPopoverDialogContext.react"));var K=a.setIsOpenForDialog,L=b("cr:6334")==null?void 0:b("cr:6334")(),M=b("cr:6335")==null?void 0:b("cr:6335")();a=l(function(){u();if(L!=null)L(I);else if(M!=null){var a;M({hasSeenNotice:(a=w==null?void 0:(a=w.encrypted_backup)==null?void 0:a.has_seen_eb_auto_restore_notice)!=null?a:!1,source:I})}K(!0);y(c("MWEBQPWithPinState.enum").INITIAL)},[u,L,M,y,I,K,w==null?void 0:(a=w.encrypted_backup)==null?void 0:a.has_seen_eb_auto_restore_notice]);e=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore({clientID:e,focusRegionId:s,onSubmitPin:function(){C(!0),d("MWLogInteraction").logPopoverOpenCancel("initiate_restore"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("initiate_restore"),y(c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS)},onSubmitPinFailure:function(){y(c("MWEBQPWithPinState.enum").INITIAL)},onVestaComplete:a});a=e.inputProps;var N=e.invalidKeyPressedError,O=e.isInProgress,P=e.isLabyrinthError,Q=e.isPinCodeIncorrect;e=e.isVestaError;O=(w==null?void 0:w.qp_with_pin_state)===c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS||O;var R=c("useVisibilityObserver")({onVisible:function(){d("FocusRegion.react").focusRegionById(s,d("focusScopeQueries").tabbableScopeQuery);var a=j?"RESTORE_QP_WITH_PIN_INBOX_IMPRESSION":"RESTORE_QP_WITH_PIN_JEWEL_IMPRESSION";J(a)}}),S=c("useMWXEntryPointDialog")(c("MWEBOTCDialog.entrypoint"),{}),T=S[0],U=l(function(){T({source:j?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_CLOSE_DIALOG_CLICK")})},[j,T]),V=d("MWEncryptedBackupsForgotPinStep").useForgotPinLinkShowDialogProps({});S=N!=null?N:Q?h._(/*BTDS*/"Incorrect PIN. Try again."):P||e?h._(/*BTDS*/"There was an error while using the PIN Code, please try again"):void 0;if(A===!0){u();return null}N=c("gkx")("23219");return k.jsx("div",babelHelpers["extends"]({},{0:{className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c xe4pinz x14vqqas x1ys307a xod5an3 xyqm7xq xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},1:{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xe4pinz x14vqqas x1ys307a xod5an3 xyqm7xq xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1jx94hy"}}[!!N<<0],{children:k.jsxs(c("MWXColumn.react"),{ref:R,testid:void 0,children:[k.jsx(c("MWXColumnItem.react"),{children:k.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:12,children:[k.jsx(c("MWXRowItem.react"),{xstyle:t.icon,children:k.jsx(c("MWXImage.react"),{src:c("getMWEBRestoreQPCautionCircleProperties")()})}),k.jsx(c("MWXRowItem.react"),{expanding:!0,children:k.jsxs(c("MWXColumn.react"),{paddingTop:8,spacing:12,children:[k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",numberOfLines:2,type:"headlineEmphasized4",children:h._(/*BTDS*/"Chat history is missing")})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",color:N?"secondary":"primary",numberOfLines:2,type:"body4",children:h._(/*BTDS*/"Enter your PIN to restore chat history.")})})]})}),k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconCross"),label:h._(/*BTDS*/"Close"),onPress:g,size:N?24:32,testid:void 0})})]})}),k.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:S,inputSize:"small",children:k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:s,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},a,{color:N?"primary":"secondary",disabled:O,inputSize:"small",testid:void 0}))})})}),O&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",babelHelpers["extends"]({className:"xfitlp5 x9otpla"},{children:k.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:N})}))}),!O&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",babelHelpers["extends"]({},{0:{},2:{className:"xod5an3"},1:{className:"x12nagc x1iorvi4"},3:{className:"x12nagc x1iorvi4"}}[!!(S==null)<<1|!!(S!=null)<<0],{children:k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:f===!0?k.jsx(c("MWXLink.react"),{onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),K(!0),U()},children:h._(/*BTDS*/"Use a one-time code instead")}):k.jsx(c("MWXLink.react"),babelHelpers["extends"]({},V,{onClick:function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_FORGOT_PIN_CLICK"),V.onClick==null?void 0:V.onClick(a)}}))})}))})]})}))}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(10),e=a.clientID,f=a.currentSupportedPlatform,g=a.doesUserHaveOtcEligibleDevices,h=a.fragmentKey,i=a.setClosed;a=a.setDismissed;f=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;var j=f?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP_WITH_PIN:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP_WITH_PIN,l;b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==f||b[4]!==i||b[5]!==a?(l=k.jsx(u,{clientID:e,doesUserHaveOtcEligibleDevices:g,fragmentKey:h,isInbox:f,setClosed:i,setDismissed:a}),b[0]=e,b[1]=g,b[2]=h,b[3]=f,b[4]=i,b[5]=a,b[6]=l):l=b[6];b[7]!==j||b[8]!==l?(e=k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:j,children:l}),b[7]=j,b[8]=l,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListPersistentBanner.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsThreadListPersistentBanner.react");function a(a){var b=d("react-compiler-runtime").c(23),e=a.onDismissUpsell;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),a);var f=a[0];a=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();var g=a!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;a=l(c("MWJewelPopoverDialogContext.react"));var j=a.setIsOpenForDialog,o=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var p=a.startFlow,q=m(!1),r=g?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_PERSISTENT_BANNER:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER;b[1]!==o||b[2]!==r||b[3]!==p?(a=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:o,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;p({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:r});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);q.current===!1&&(q.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},b[1]=o,b[2]=r,b[3]=p,b[4]=a):a=b[4];var s=a;b[5]!==g||b[6]!==s?(a={onVisible:function(){s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION")}},b[5]=g,b[6]=s,b[7]=a):a=b[7];a=c("useVisibilityObserver")(a);var t;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1xmf6yo x1e56ztr xyqm7xq x1ys307a x6ikm8r x10wlt62 xyamay9 x1l90r2v xf7dkkf xv54qhq x1qh3cfz"},b[8]=t):t=b[8];var u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Missing chat history."),b[9]=u):u=b[9];var v;b[10]!==g||b[11]!==e||b[12]!==j||b[13]!==f||b[14]!==r||b[15]!==s?(v=function(){j(!0),s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED"),f({onDismissUpsell:e,source:r})},b[10]=g,b[11]=e,b[12]=j,b[13]=f,b[14]=r,b[15]=s,b[16]=v):v=b[16];var w;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"Restore now"),b[17]=w):w=b[17];b[18]!==v?(u=k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsxs(k.Fragment,{children:[u," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:v,target:"_blank",testid:void 0,children:w})})]})}),b[18]=v,b[19]=u):u=b[19];b[20]!==a||b[21]!==u?(w=k.jsx("div",babelHelpers["extends"]({},t,{ref:a,children:u})),b[20]=a,b[21]=u,b[22]=w):w=b[22];return w}g["default"]=a}),226);
__d("MWEBThreadListPersistentBannerWrapper.react",["MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.setHasDismissedBanner;a=a.trigger;var f=(h||(h=c("useReStore")))(),g;b[0]!==f||b[1]!==e?(g=j.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){e(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:f,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}}),b[0]=f,b[1]=e,b[2]=g):g=b[2];var i;b[3]!==g||b[4]!==a?(i=j.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:g}),b[3]=g,b[4]=a,b[5]=i):i=b[5];return i}g["default"]=a}),98);
__d("MWEncryptedBackupsFetchBackupIds",["LSEncryptedBackupsBackupTenancy","LSFactory","LSFetchBackupIdsStoredProcedure","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){return c("LSFetchBackupIdsStoredProcedure")(c("LSFactory")(a),{backupTenancy:(h||(h=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION),isUiBlocking:!1})},"readwrite",void 0,void 0,f.id+":19")}g.encryptedBackupsFetchBackupIds=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer"}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer",selections:[{args:null,kind:"FragmentSpread",name:"MWEBRestoreQPWithPin_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsVerifyDeviceNux.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXQPCard.react","QPLUserFlow","getMWEBRestoreQPCautionCircleProperties","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsVerifyDeviceNux.react");function a(a){var b=d("react-compiler-runtime").c(26),e=a.children,f=a.currentSupportedPlatform,g=a.setClosed,j=a.setDismissed;a=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState();var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o={},b[0]=o):o=b[0];o=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),o);var p=o[0],q=(i||(i=c("useReStore")))(),r=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,s=r?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP;o=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var t=o.startFlow,u=m(!1);f=l(c("MWJewelPopoverDialogContext.react"));var v=f.setIsOpenForDialog;o=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();f=o.virtualDeviceInfo;var w=f.vestaClientID!=null;o=f.offlineDevicesCount>0;var x=f.doesUserHaveOtcEligibleDevices;f=!w&&x;var y=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:q,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;t({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,is_otc_eligible:x.toString(),is_pin_set:w.toString(),restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:s});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);u.current===!1&&(u.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},z=c("useVisibilityObserver")({onVisible:function(){var a=r?"VERIFY_DEVICE_INBOX_QP_THREAD_LIST_IMPRESSION":"VERIFY_DEVICE_QP_THREAD_LIST_IMPRESSION";y(a)}}),A=function(){var a=r?"USER_CLICKED_INBOX_THREAD_LIST_VERIFY_DEVICE":"USER_CLICKED_FB_THREAD_LIST_VERIFY_DEVICE";y(a);v(!0);g()},B=function(){var a=r?"USER_CLOSED_INBOX_THREAD_LIST_VERIFY_DEVICE_NUX":"USER_CLOSED_FB_THREAD_LIST_VERIFY_DEVICE_NUX";y(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_nux",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});C()},C=function(){j(),g()};if(!w&&!o&&!x)return e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Chat history is missing"),b[1]=o):o=b[1];e=o;b[2]!==x||b[3]!==a||b[4]!==w||b[5]!==f?(o=a&&x?h._(/*BTDS*/"Restore now"):w?h._(/*BTDS*/"Enter PIN"):f?h._(/*BTDS*/"Restore now"):h._(/*BTDS*/"Enter 40-character code"),b[2]=x,b[3]=a,b[4]=w,b[5]=f,b[6]=o):o=b[6];var D;b[7]!==C||b[8]!==A||b[9]!==s||b[10]!==p?(D=function(){A(),p({onDismissUpsell:C,source:s})},b[7]=C,b[8]=A,b[9]=s,b[10]=p,b[11]=D):D=b[11];var E;b[12]!==o||b[13]!==D?(E={label:o,onPress:D,testid:"mw-encrypted-backups-in-thread-verify-device-nux-verify-now-button"},b[12]=o,b[13]=D,b[14]=E):E=b[14];b[15]!==x||b[16]!==a||b[17]!==w||b[18]!==f?(o=a&&x?h._(/*BTDS*/"Send a one-time code to restore your chat history"):w?h._(/*BTDS*/"Enter your PIN to see messages that aren't loaded on this device."):f?h._(/*BTDS*/"Send a one-time code to restore your chat history"):h._(/*BTDS*/"Enter your 40-character code to see messages that aren't loaded on this device."),b[15]=x,b[16]=a,b[17]=w,b[18]=f,b[19]=o):o=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(D={props:{src:c("getMWEBRestoreQPCautionCircleProperties")()},type:"image"},b[20]=D):D=b[20];b[21]!==B||b[22]!==z||b[23]!==E||b[24]!==o?(a=k.jsx(c("MWXQPCard.react"),{addOnPrimary:E,body:o,headline:e,icon:D,onClose:B,ref:z}),b[21]=B,b[22]=z,b[23]=E,b[24]=o,b[25]=a):a=b[25];return a}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper.react",["CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBEntrypointsKillswitch.enum","MWEBRestoreQPWithPin.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql","MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql","MWEncryptedBackupsVerifyDeviceNux.react","react","react-compiler-runtime","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(a){var e=d("react-compiler-runtime").c(32),f=a.backupState,g=a.children,i=a.currentSupportedPlatform,k=a.fragmentKey,m=a.setHasDismissedQp,n=a.setHasDismissedQpWithPin;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql"),k);var o=(j||(j=c("useReStore")))();k=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();k=k.virtualDeviceInfo;var p=i===d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,q=k.doesUserHaveOtcEligibleDevices,r=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),s;e[0]!==f||e[1]!==r?(s={backupState:f,isCooldownOrLockOutState:r},e[0]=f,e[1]=r,e[2]=s):s=e[2];f=c("useHasRestoreInterstitialSoftblockBeenDismissed")(s);if(!q&&r&&f)return null;else if(r&&f){e[3]!==m?(s=function(){m(!0)},e[3]=m,e[4]=s):s=e[4];e[5]!==o?(q=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[5]=o,e[6]=q):q=e[6];e[7]!==g||e[8]!==i||e[9]!==s||e[10]!==q?(r=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:s,setDismissed:q}),e[7]=g,e[8]=i,e[9]=s,e[10]=q,e[11]=r):r=e[11];return r}else if(p&&k.vestaClientID!=null&&c("MWEBRestoreQPWithPin.react")){e[12]!==n?(f=function(){n(!0)},e[12]=n,e[13]=f):f=e[13];e[14]!==o?(s=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL})},e[14]=o,e[15]=s):s=e[15];e[16]!==i||e[17]!==a||e[18]!==f||e[19]!==s||e[20]!==k.doesUserHaveOtcEligibleDevices||e[21]!==k.vestaClientID?(q=l.jsx(c("MWEBRestoreQPWithPin.react"),{clientID:k.vestaClientID,currentSupportedPlatform:i,doesUserHaveOtcEligibleDevices:k.doesUserHaveOtcEligibleDevices,fragmentKey:a,setClosed:f,setDismissed:s}),e[16]=i,e[17]=a,e[18]=f,e[19]=s,e[20]=k.doesUserHaveOtcEligibleDevices,e[21]=k.vestaClientID,e[22]=q):q=e[22];return q}else{e[23]!==m?(r=function(){m(!0)},e[23]=m,e[24]=r):r=e[24];e[25]!==o?(p=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[25]=o,e[26]=p):p=e[26];e[27]!==g||e[28]!==i||e[29]!==r||e[30]!==p?(a=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:r,setDismissed:p}),e[27]=g,e[28]=i,e[29]=r,e[30]=p,e[31]=a):a=e[31];return a}}function a(a){var e=d("react-compiler-runtime").c(12),f=a.children,g=a.currentSupportedPlatform,h=a.fragmentKey,k=a.hasDismissedQps,n=a.setHasDismissedBanner,o=a.setHasDismissedQp,p=a.setHasDismissedQpWithPin;a=a.trigger;h=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql"),h);var q=(j||(j=c("useReStore")))(),r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r={entrypoint:c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST},e[0]=r):r=e[0];r=c("useMWEBBackupState")(r);var s;e[1]!==r||e[2]!==f||e[3]!==g||e[4]!==(h==null?void 0:h.viewer)||e[5]!==q||e[6]!==k||e[7]!==n||e[8]!==o||e[9]!==p||e[10]!==a?(s=k?l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){n(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:q,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}})}):l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(m,{backupState:r,children:f,currentSupportedPlatform:g,fragmentKey:h==null?void 0:h.viewer,setHasDismissedQp:o,setHasDismissedQpWithPin:p})}),e[1]=r,e[2]=f,e[3]=g,e[4]=h==null?void 0:h.viewer,e[5]=q,e[6]=k,e[7]=n,e[8]=o,e[9]=p,e[10]=a,e[11]=s):s=e[11];return s}g["default"]=a}),98);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9747954008656745"}),null);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql",["VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_login_request",variableName:"input"}],concreteType:"VestaBeginLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderBeginLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9611648865601020"}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql",["VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"finish_login_request",variableName:"input"}],concreteType:"VestaFinishLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_login_payload",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderFinishLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9285801411531503"}),null);
__d("VestaServerGraphQLLoginProviderInitQuery.graphql",["VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_login_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProvider",["E2EEBackupUtil","RelayHooks","RelayModern","VestaServerGraphQLLoginProviderBeginLoginMutation.graphql","VestaServerGraphQLLoginProviderFinishLoginMutation.graphql","VestaServerGraphQLLoginProviderInitQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,c){c=c.environment;c=await d("RelayHooks").fetchQuery(c,h!==void 0?h:h=b("VestaServerGraphQLLoginProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}}).toPromise();a=c==null?void 0:c.fbid_based_auth_layer_vesta_login_init;c=a==null?void 0:a.base64url_encoded_island_rsa_pub;var e=a==null?void 0:a.base64url_encoded_island_rsa_pub_signature,f=a==null?void 0:a.base64url_encoded_opaque_pub,g=a==null?void 0:a.base64url_encoded_opaque_pub_signature,i=a==null?void 0:a.base64url_encoded_island_ed25519_pub,j=a==null?void 0:a.base64url_encoded_island_ed25519_pub_signature,k=a==null?void 0:a.is_registered;a=a==null?void 0:a.attempts_remaining;if(c!=null&&e!=null&&f!=null&&g!=null&&i!=null&&j!=null&&k!=null){var l;return{islandRsaPub:(l=d("E2EEBackupUtil")).decodeBase64Url(c),islandRsaPubSig:l.decodeBase64Url(e),opaquePub:l.decodeBase64Url(f),opaquePubSig:l.decodeBase64Url(g),islandEd25519Pub:l.decodeBase64Url(i),islandEd25519PubSig:l.decodeBase64Url(j),isRegistered:k,loginAttemptsRemaining:a}}throw new Error("GraphQL Response is Null")}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql"),g={input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL1)}};return new Promise(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_login;var e=c==null?void 0:c.base64url_encoded_opaque_l2;c=c==null?void 0:c.base64url_encoded_opaque_l2_sig;if(e!=null&&c!=null){a({opaqueL2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueL2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new Promise(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql"),variables:{input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l3:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL3)}},onCompleted:function(a){a=a.fbid_based_auth_layer_vesta_finish_login;var b=a==null?void 0:a.base64url_encoded_login_payload,e=a==null?void 0:a.login_success;a=a==null?void 0:a.attempts_remaining;if(e!=null){c({loginSuccess:e,loginPayload:b==null?b:d("E2EEBackupUtil").decodeBase64Url(b),attemptsRemaining:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initLogin=a;g.beginLogin=c;g.finishLogin=e}),98);
__d("mapVestaClientError",["VestaClientError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return new h();case 2:return new i();case 3:return new j();case 4:return new k();case 5:return new l();case 6:return new m();case 7:return new n();case 8:return new o();case 9:return new p();case 10:return new q();case 11:return new r();case 12:return new s();default:return new t()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Buffer supplied to WASM for response is too small");a=b.call(this,a)||this;a.name="InsufficientResultBuffer";return a}return a}(b=c("VestaClientError")),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect user password supplied during login");a=b.call(this,a)||this;a.name="InvalidUserPassword";return a}return a}(b),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Invalid input from server");a=b.call(this,a)||this;a.name="MalformedServerResponse";return a}return a}(b),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Invalid input from client");a=b.call(this,a)||this;a.name="MalformedClientInput";return a}return a}(b),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during encryption operation");a=b.call(this,a)||this;a.name="EncryptionFailure";return a}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during decryption operation");a=b.call(this,a)||this;a.name="DecryptionFailure";return a}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error during serialization operation.");a=b.call(this,a)||this;a.name="SerializationFailure";return a}return a}(b),o=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error deserializing inputs, likely due to malformed input");a=b.call(this,a)||this;a.name="DeserializationFailure";return a}return a}(b),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Passed RSA public key is in an invalid format.");a=b.call(this,a)||this;a.name="RsaInvalidKey";return a}return a}(b),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unable to verify RSA signature");a=b.call(this,a)||this;a.name="RsaVerificationFailure";return a}return a}(b),r=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Passed Ed25519 public key is in an invalid format.");a=b.call(this,a)||this;a.name="Ed25519InvalidKey";return a}return a}(b),s=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unable to verify Ed25519 signature");a=b.call(this,a)||this;a.name="Ed25519VerificationFailure";return a}return a}(b),t=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(b);g["default"]=a}),98);
__d("mwEBAddDevice",["EBSMAPI","MAWCurrentUser","cr:21222"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.environment,f=a.onFailure,g=a.onInvalidRecoveryCode,h=a.onStart,i=a.onSuccess,j=a.recoveryCode,k=a.storage,l=a.traceId,m=a.trackAddingDevice;a=a.trackOverprompting;return c("EBSMAPI").addDeviceWithRecoveryCode({environment:e,isInWorker:!1,onFailure:f,onInvalidRecoveryCode:g,onStart:h,onSuccess:i,recoveryCode:j,storage:k,traceId:l,trackAddingDevice:m,trackOverprompting:a,userId:d("MAWCurrentUser").getID()}).then(function(){b("cr:21222")==null?void 0:b("cr:21222").fireAndForget("backend","addDeviceWithPinInWorker",{recoveryCode:j,userId:d("MAWCurrentUser").getID()})})}g.EBAddDevice=a}),98);
__d("vestaBackupSecretRestore",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("E2EEBackupSecretRestoreModule").__setRef("vestaBackupSecretRestore"),i=c("requireDeferred")("VestaServerGraphQLLoginProvider").__setRef("vestaBackupSecretRestore");async function a(a){var b=a.input;a=a.environment;var c=await Promise.all([i.load(),h.load()]),d=c[0],e=d.beginLogin,f=d.finishLogin;d=d.initLogin;c=c[1].restoreBackupSecret;return c({beginLogin:e,finishLogin:f,initLogin:d},b,{environment:a})}g.default=a}),98);
__d("mwEBGetPINSecretFromVesta",["CometRelay","E2EEBackupCommon","FBLogger","LSDataTraceCheckPoint","LSDataTraceType","LSIntEnum","MAWTraceUtils","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","QPLUserFlow","promiseDone","vestaBackupSecretRestore"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.addDevice,e=a.clientID,f=a.environment,g=a.getSourceFromContext,i=a.onSubmitPin,j=a.onSubmitPinFailure,k=a.onVestaSecretFetch,l=a.pinCode,m=a.productUseCase,n=a.setIsInProgress,o=a.setIsPinCodeIncorrect,p=a.setIsVestaError;a=a.startFlow;var q=d("MAWTraceUtils").startNewTrace((h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN),d("MAWTraceUtils").CONTEXT_VESTA_LOGIN);n(!0);i==null?void 0:i();i=g();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"pin_code",source:i}});g=new TextDecoder();var r;a({additionalAnnotations:{device_type:"HSM"},event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH,source:i});try{c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_begin"),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SUBMIT"),d("MAWTraceUtils").recordCheckpointForTrace(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_CALLING_VESTA_LOGIN),[],!1),r=g.decode(await c("vestaBackupSecretRestore")({environment:f,input:{clientId:e,productUseCase:m,vestaAccountPin:l}})),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_success"),d("MAWTraceUtils").recordCheckpointForTrace(q,h.ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_LOGIN_COMPLETION),[],!1)}catch(b){j==null?void 0:j();c("promiseDone")(d("CometRelay").fetchQuery(f,c("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),{}).toPromise());if(b.errorType===d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD)n(!1),o(!0),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"incorrect_pin_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:c("MWEBODSEntityKey.enum").INCORRECT_PIN_CODE,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"incorrect_pin_code"),d("MAWTraceUtils").recordFailureAndFlushForTraceId(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_RESTORE_FAILURE),[],"Incorrect pin code");else{d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorMessage:b.message,errorType:b.errorType}},errorName:"vesta_login_failure",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_error");n(!1);p(!0);a="Error when restoring using PIN: "+b;c("FBLogger")("labyrinth_web").mustfix(a);d("MAWTraceUtils").recordFailureAndFlushForTraceId(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_RESTORE_FAILURE),[],b.toString())}throw b}r!=null&&(d("MAWTraceUtils").recordCheckpointForTrace(q,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_ADD_DEVICE),[],!1),k==null?void 0:k(),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_begin"),b(r,q,l))}g.default=a}),98);
__d("updateUpsellsStateInRelayStore",["CometRelay","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.updateValue;d("CometRelay").commitLocalUpdate(b,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][upsells] A viewer record does not exist when updating upsell state.");return}a.setValue(e,"is_eb_restore_upsells_dismissed")})}g["default"]=a}),98);
__d("useEncryptedBackupsQplImpressionRef",["QPLUserFlow","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=d("react-compiler-runtime").c(5),h;g[0]!==f||g[1]!==a||g[2]!==e||g[3]!==b?(h={onVisible:function(){c("QPLUserFlow").addPoint(a,b,{instanceKey:e}),f==null?void 0:f()}},g[0]=f,g[1]=a,g[2]=e,g[3]=b,g[4]=h):h=g[4];return c("useVisibilityObserver")(h)}g["default"]=a}),98);
__d("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9618790408209960"}),null);
__d("useMWEBSetHasSeenNoticeMutation.graphql",["useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SetHasSeenEbAutoRestoreNoticeResponsePayload",kind:"LinkedField",name:"set_has_seen_eb_auto_restore_notice",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBSetHasSeenNoticeMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBSetHasSeenNoticeMutation",selections:a},params:{id:b("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"),metadata:{},name:"useMWEBSetHasSeenNoticeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBSetHasSeenNotice",["CometRelay","react","react-compiler-runtime","useMWEBSetHasSeenNoticeMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMWEBSetHasSeenNoticeMutation.graphql"),a[0]=c):c=a[0];c=d("CometRelay").useMutation(c);var e=c[0];a[1]!==e?(c=function(){e({variables:{}})},a[1]=e,a[2]=c):c=a[2];return c}g["default"]=a}),98);
__d("useMWEBAutoRestoreNoticeDialog",["JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","ReQL","ReQLSuspense","react","react-compiler-runtime","useLabyrinthLogging","useMWEBSetHasSeenNotice","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWEBAutoRestoreNoticeDialog.react").__setRef("useMWEBAutoRestoreNoticeDialog");function a(){var a=d("react-compiler-runtime").c(9),b=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),e=b.startFlow;b=c("useMWXLazyDialog")(j);var g=b[0],i=(h||(h=c("useReStore")))();a[0]!==i.tables.auto_restore_opt_out?(b=function(){return d("ReQL").fromTableAscending(i.tables.auto_restore_opt_out)},a[0]=i.tables.auto_restore_opt_out,a[1]=b):b=a[1];var l;a[2]!==i?(l=[i],a[2]=i,a[3]=l):l=a[3];var m=d("ReQLSuspense").useArray(b,l,f.id+":45"),n=c("useMWEBSetHasSeenNotice")();a[4]!==m||a[5]!==n||a[6]!==g||a[7]!==e?(b=function(a){var b=a.hasSeenNotice;a=a.source;var f=m.filter(k).length>0;e({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:a});if(f){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_OUT");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_IN");d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);if(b){d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}n();g({})},a[4]=m,a[5]=n,a[6]=g,a[7]=e,a[8]=b):b=a[8];return b}function k(a){return a.optOutKey===c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE}g["default"]=a}),98);